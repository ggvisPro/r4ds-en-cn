# Introduction {#sec-intro .unnumbered}

```{r}
#| echo: false
source("_common.R")
```

Data science is an exciting discipline that allows you to transform raw data into understanding, insight, and knowledge.

æ•°æ®ç§‘å­¦æ˜¯ä¸€é—¨æ¿€åŠ¨äººå¿ƒçš„å­¦ç§‘ï¼Œå®ƒèƒ½è®©ä½ å°†åŸå§‹æ•°æ®è½¬åŒ–ä¸ºç†è§£ã€æ´å¯Ÿå’ŒçŸ¥è¯†ã€‚

The goal of "R for Data Science" is to help you learn the most important tools in R that will allow you to do data science efficiently and reproducibly, and to have some fun along the way ğŸ˜ƒ.

ã€ŠR æ•°æ®ç§‘å­¦ã€‹çš„ç›®æ ‡æ˜¯å¸®åŠ©ä½ å­¦ä¹  R ä¸­æœ€é‡è¦çš„å·¥å…·ï¼Œè¿™äº›å·¥å…·å°†ä½¿ä½ èƒ½å¤Ÿé«˜æ•ˆã€å¯é‡å¤åœ°è¿›è¡Œæ•°æ®ç§‘å­¦å·¥ä½œï¼Œå¹¶åœ¨æ­¤è¿‡ç¨‹ä¸­è·å¾—ä¸€äº›ä¹è¶£ ğŸ˜ƒã€‚

After reading this book, you'll have the tools to tackle a wide variety of data science challenges using the best parts of R.

è¯»å®Œæœ¬ä¹¦åï¼Œä½ å°†æ‹¥æœ‰ä½¿ç”¨ R çš„ç²¾åéƒ¨åˆ†æ¥åº”å¯¹å„ç§æ•°æ®ç§‘å­¦æŒ‘æˆ˜çš„å·¥å…·ã€‚

## What you will learn

Data science is a vast field, and there's no way you can master it all by reading a single book.

æ•°æ®ç§‘å­¦æ˜¯ä¸€ä¸ªå¹¿é˜”çš„é¢†åŸŸï¼Œä¸å¯èƒ½é€šè¿‡é˜…è¯»ä¸€æœ¬ä¹¦å°±æŒæ¡æ‰€æœ‰å†…å®¹ã€‚

This book aims to give you a solid foundation in the most important tools and enough knowledge to find the resources to learn more when necessary.

æœ¬ä¹¦æ—¨åœ¨ä¸ºä½ æ‰“ä¸‹æœ€é‡è¦çš„å·¥å…·çš„åšå®åŸºç¡€ï¼Œå¹¶æä¾›è¶³å¤Ÿçš„çŸ¥è¯†ï¼Œä»¥ä¾¿åœ¨å¿…è¦æ—¶æ‰¾åˆ°æ›´å¤šå­¦ä¹ èµ„æºã€‚

Our model of the steps of a typical data science project looks something like @fig-ds-diagram.

æˆ‘ä»¬å¯¹å…¸å‹æ•°æ®ç§‘å­¦é¡¹ç›®æ­¥éª¤çš„æ¨¡å‹å¦‚ @fig-ds-diagram æ‰€ç¤ºã€‚

```{r}
#| label: fig-ds-diagram
#| echo: false
#| fig-cap: |
#|   In our model of the data science process, you start with data import
#|   and tidying. Next, you understand your data with an iterative cycle of
#|   transforming, visualizing, and modeling. You finish the process 
#|   by communicating your results to other humans.
#| fig-alt: |
#|   A diagram displaying the data science cycle: Import -> Tidy -> Understand 
#|   (which has the phases Transform -> Visualize -> Model in a cycle) -> 
#|   Communicate. Surrounding all of these is Program.
#| out.width: NULL
knitr::include_graphics("diagrams/data-science/base.png", dpi = 270)
```

First, you must **import** your data into R.

é¦–å…ˆï¼Œä½ å¿…é¡»å°†æ•°æ® **å¯¼å…¥** (import) åˆ° R ä¸­ã€‚

This typically means that you take data stored in a file, database, or web application programming interface (API) and load it into a data frame in R.

è¿™é€šå¸¸æ„å‘³ç€ä½ å°†å­˜å‚¨åœ¨æ–‡ä»¶ã€æ•°æ®åº“æˆ– Web åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ (API) ä¸­çš„æ•°æ®åŠ è½½åˆ° R çš„æ•°æ®æ¡† (data frame) ä¸­ã€‚

If you can't get your data into R, you can't do data science on it!

å¦‚æœæ— æ³•å°†æ•°æ®å¯¼å…¥ Rï¼Œä½ å°±æ— æ³•å¯¹å…¶è¿›è¡Œæ•°æ®ç§‘å­¦åˆ†æï¼

Once you've imported your data, it is a good idea to **tidy** it.

å¯¼å…¥æ•°æ®åï¼Œæœ€å¥½å¯¹å…¶è¿›è¡Œ **æ•´ç†** (tidy)ã€‚

Tidying your data means storing it in a consistent form that matches the semantics of the dataset with how it is stored.

æ•´ç†æ•°æ®æ„å‘³ç€å°†å…¶ä»¥ä¸€ç§ä¸€è‡´çš„å½¢å¼å­˜å‚¨ï¼Œè¯¥å½¢å¼å°†æ•°æ®é›†çš„è¯­ä¹‰ä¸å…¶å­˜å‚¨æ–¹å¼ç›¸åŒ¹é…ã€‚

In brief, when your data is tidy, each column is a variable and each row is an observation.

ç®€è€Œè¨€ä¹‹ï¼Œå½“ä½ çš„æ•°æ®æ˜¯æ•´æ´ (tidy) çš„æ—¶ï¼Œæ¯ä¸€åˆ—éƒ½æ˜¯ä¸€ä¸ªå˜é‡ï¼Œæ¯ä¸€è¡Œéƒ½æ˜¯ä¸€ä¸ªè§‚æµ‹ã€‚

Tidy data is important because the consistent structure lets you focus your efforts on answering questions about the data, not fighting to get the data into the right form for different functions.

æ•´æ´çš„æ•°æ®å¾ˆé‡è¦ï¼Œå› ä¸ºå…¶ä¸€è‡´çš„ç»“æ„å¯ä»¥è®©ä½ ä¸“æ³¨äºå›ç­”å…³äºæ•°æ®çš„é—®é¢˜ï¼Œè€Œä¸æ˜¯è´¹åŠ›åœ°å°†æ•°æ®è½¬æ¢ä¸ºé€‚åˆä¸åŒå‡½æ•°çš„å½¢å¼ã€‚

Once you have tidy data, a common next step is to **transform** it.

æ‹¥æœ‰æ•´æ´çš„æ•°æ®åï¼Œé€šå¸¸çš„ä¸‹ä¸€æ­¥æ˜¯è¿›è¡Œ **è½¬æ¢** (transform)ã€‚

Transformation includes narrowing in on observations of interest (like all people in one city or all data from the last year), creating new variables that are functions of existing variables (like computing speed from distance and time), and calculating a set of summary statistics (like counts or means).

è½¬æ¢åŒ…æ‹¬ç­›é€‰å‡ºæ„Ÿå…´è¶£çš„è§‚æµ‹ï¼ˆä¾‹å¦‚ï¼ŒæŸä¸ªåŸå¸‚çš„æ‰€æœ‰äººæˆ–å»å¹´çš„æ‰€æœ‰æ•°æ®ï¼‰ï¼Œæ ¹æ®ç°æœ‰å˜é‡åˆ›å»ºæ–°å˜é‡ï¼ˆä¾‹å¦‚ï¼Œæ ¹æ®è·ç¦»å’Œæ—¶é—´è®¡ç®—é€Ÿåº¦ï¼‰ï¼Œä»¥åŠè®¡ç®—ä¸€ç»„æ‘˜è¦ç»Ÿè®¡é‡ï¼ˆä¾‹å¦‚ï¼Œè®¡æ•°æˆ–å‡å€¼ï¼‰ã€‚

Together, tidying and transforming are called **wrangling** because getting your data in a form that's natural to work with often feels like a fight!

æ•´ç†å’Œè½¬æ¢åˆåœ¨ä¸€èµ·è¢«ç§°ä¸º **æ•°æ®æ•´ç†** (wrangling)ï¼Œå› ä¸ºå°†æ•°æ®å¤„ç†æˆæ˜“äºä½¿ç”¨çš„å½¢å¼é€šå¸¸æ„Ÿè§‰åƒä¸€åœºæˆ˜æ–—ï¼

Once you have tidy data with the variables you need, there are two main engines of knowledge generation: visualization and modeling.

å½“ä½ æ‹¥æœ‰äº†åŒ…å«æ‰€éœ€å˜é‡çš„æ•´æ´æ•°æ®åï¼ŒçŸ¥è¯†ç”Ÿæˆçš„ä¸¤å¤§å¼•æ“ä¾¿æ˜¯ï¼šå¯è§†åŒ–å’Œå»ºæ¨¡ã€‚

These have complementary strengths and weaknesses, so any real data analysis will iterate between them many times.

è¿™ä¸¤è€…å„æœ‰ä¼˜ç¼ºç‚¹ï¼Œç›¸è¾…ç›¸æˆï¼Œå› æ­¤ä»»ä½•å®é™…çš„æ•°æ®åˆ†æéƒ½ä¼šåœ¨å®ƒä»¬ä¹‹é—´å¤šæ¬¡è¿­ä»£ã€‚

**Visualization** is a fundamentally human activity.

**å¯è§†åŒ–** (Visualization) æœ¬è´¨ä¸Šæ˜¯ä¸€é¡¹äººç±»æ´»åŠ¨ã€‚

A good visualization will show you things you did not expect or raise new questions about the data.

å¥½çš„å¯è§†åŒ–ä¼šå‘ä½ å±•ç¤ºæ„æƒ³ä¸åˆ°çš„æƒ…å†µï¼Œæˆ–å¼•å‘å…³äºæ•°æ®çš„æ–°é—®é¢˜ã€‚

A good visualization might also hint that you're asking the wrong question or that you need to collect different data.

å¥½çš„å¯è§†åŒ–ä¹Ÿå¯èƒ½æš—ç¤ºä½ é—®é”™äº†é—®é¢˜ï¼Œæˆ–è€…ä½ éœ€è¦æ”¶é›†ä¸åŒçš„æ•°æ®ã€‚

Visualizations can surprise you, but they don't scale particularly well because they require a human to interpret them.

å¯è§†åŒ–å¯ä»¥ç»™ä½ å¸¦æ¥æƒŠå–œï¼Œä½†å®ƒä»¬çš„å¯æ‰©å±•æ€§ä¸æ˜¯å¾ˆå¥½ï¼Œå› ä¸ºå®ƒä»¬éœ€è¦äººæ¥è§£é‡Šã€‚

**Models** are complementary tools to visualization.

**æ¨¡å‹** (Models) æ˜¯å¯è§†åŒ–çš„è¡¥å……å·¥å…·ã€‚

Once you have made your questions sufficiently precise, you can use a model to answer them.

ä¸€æ—¦ä½ å°†é—®é¢˜å®šä¹‰å¾—è¶³å¤Ÿç²¾ç¡®ï¼Œå°±å¯ä»¥ä½¿ç”¨æ¨¡å‹æ¥å›ç­”å®ƒä»¬ã€‚

Models are fundamentally mathematical or computational tools, so they generally scale well.

æ¨¡å‹æœ¬è´¨ä¸Šæ˜¯æ•°å­¦æˆ–è®¡ç®—å·¥å…·ï¼Œå› æ­¤å®ƒä»¬é€šå¸¸å…·æœ‰è‰¯å¥½çš„å¯æ‰©å±•æ€§ã€‚

Even when they don't, it's usually cheaper to buy more computers than it is to buy more brains!

å³ä½¿å®ƒä»¬ä¸å…·å¤‡æ‰©å±•æ€§ï¼Œé€šå¸¸è´­ä¹°æ›´å¤šçš„è®¡ç®—æœºä¹Ÿæ¯”é›‡ä½£æ›´å¤šçš„äººè„‘ä¾¿å®œï¼

But every model makes assumptions, and by its very nature, a model cannot question its own assumptions.

ä½†æ˜¯ï¼Œæ¯ä¸ªæ¨¡å‹éƒ½æœ‰å…¶å‡è®¾ï¼Œè€Œæ¨¡å‹æœ¬èº«æ— æ³•è´¨ç–‘è‡ªèº«çš„å‡è®¾ã€‚

That means a model cannot fundamentally surprise you.

è¿™æ„å‘³ç€æ¨¡å‹æœ¬è´¨ä¸Šä¸ä¼šç»™ä½ å¸¦æ¥æƒŠå–œã€‚

The last step of data science is **communication**, an absolutely critical part of any data analysis project.

æ•°æ®ç§‘å­¦çš„æœ€åä¸€æ­¥æ˜¯ **æ²Ÿé€š** (communication)ï¼Œè¿™æ˜¯ä»»ä½•æ•°æ®åˆ†æé¡¹ç›®ä¸­éƒ½è‡³å…³é‡è¦çš„éƒ¨åˆ†ã€‚

It doesn't matter how well your models and visualization have led you to understand the data unless you can also communicate your results to others.

é™¤éä½ èƒ½å¤Ÿå°†ç»“æœä¼ è¾¾ç»™ä»–äººï¼Œå¦åˆ™æ— è®ºä½ çš„æ¨¡å‹å’Œå¯è§†åŒ–è®©ä½ å¯¹æ•°æ®æœ‰å¤šæ·±çš„ç†è§£ï¼Œéƒ½æ¯«æ— æ„ä¹‰ã€‚

Surrounding all these tools is **programming**.

å›´ç»•æ‰€æœ‰è¿™äº›å·¥å…·çš„æ˜¯ **ç¼–ç¨‹** (programming)ã€‚

Programming is a cross-cutting tool that you use in nearly every part of a data science project.

ç¼–ç¨‹æ˜¯ä¸€ä¸ªè´¯ç©¿å§‹ç»ˆçš„å·¥å…·ï¼Œä½ åœ¨æ•°æ®ç§‘å­¦é¡¹ç›®çš„å‡ ä¹æ¯ä¸ªéƒ¨åˆ†éƒ½ä¼šç”¨åˆ°å®ƒã€‚

You don't need to be an expert programmer to be a successful data scientist, but learning more about programming pays off because becoming a better programmer allows you to automate common tasks and solve new problems with greater ease.

ä½ ä¸éœ€è¦æˆä¸ºç¼–ç¨‹ä¸“å®¶æ‰èƒ½æˆä¸ºä¸€åæˆåŠŸçš„æ•°æ®ç§‘å­¦å®¶ï¼Œä½†å­¦ä¹ æ›´å¤šç¼–ç¨‹çŸ¥è¯†æ˜¯å€¼å¾—çš„ï¼Œå› ä¸ºæˆä¸ºä¸€åæ›´å¥½çš„ç¨‹åºå‘˜å¯ä»¥è®©ä½ è‡ªåŠ¨åŒ–å¸¸è§„ä»»åŠ¡ï¼Œå¹¶æ›´è½»æ¾åœ°è§£å†³æ–°é—®é¢˜ã€‚

You'll use these tools in every data science project, but they're not enough for most projects.

ä½ ä¼šåœ¨æ¯ä¸ªæ•°æ®ç§‘å­¦é¡¹ç›®ä¸­ä½¿ç”¨è¿™äº›å·¥å…·ï¼Œä½†å¯¹äºå¤§å¤šæ•°é¡¹ç›®æ¥è¯´ï¼Œè¿™äº›å·¥å…·æ˜¯ä¸å¤Ÿçš„ã€‚

There's a rough 80/20 rule at play: you can tackle about 80% of every project using the tools you'll learn in this book, but you'll need other tools to tackle the remaining 20%.

è¿™é‡Œæœ‰ä¸€ä¸ªç²—ç•¥çš„ 80/20 æ³•åˆ™ï¼šä½ å¯ä»¥ä½¿ç”¨æœ¬ä¹¦ä¸­å­¦åˆ°çš„å·¥å…·è§£å†³æ¯ä¸ªé¡¹ç›®ä¸­å¤§çº¦ 80% çš„é—®é¢˜ï¼Œä½†ä½ éœ€è¦å…¶ä»–å·¥å…·æ¥è§£å†³å‰©ä¸‹çš„ 20%ã€‚

Throughout this book, we'll point you to resources where you can learn more.

åœ¨æœ¬ä¹¦ä¸­ï¼Œæˆ‘ä»¬å°†ä¸ºä½ æŒ‡å‡ºå¯ä»¥å­¦ä¹ æ›´å¤šå†…å®¹çš„èµ„æºã€‚

## How this book is organized

The previous description of the tools of data science is organized roughly according to the order in which you use them in an analysis (although, of course, you'll iterate through them multiple times).

å‰é¢å…³äºæ•°æ®ç§‘å­¦å·¥å…·çš„æè¿°å¤§è‡´æ˜¯æŒ‰ç…§ä½ åœ¨åˆ†æä¸­ä½¿ç”¨çš„é¡ºåºæ¥ç»„ç»‡çš„ï¼ˆå½“ç„¶ï¼Œä½ ä¼šå¤šæ¬¡è¿­ä»£ä½¿ç”¨å®ƒä»¬ï¼‰ã€‚

In our experience, however, learning data importing and tidying first is suboptimal because, 80% of the time, it's routine and boring, and the other 20% of the time, it's weird and frustrating.

ç„¶è€Œï¼Œæ ¹æ®æˆ‘ä»¬çš„ç»éªŒï¼Œé¦–å…ˆå­¦ä¹ æ•°æ®å¯¼å…¥å’Œæ•´ç†å¹¶éæœ€ä½³é€‰æ‹©ï¼Œå› ä¸º 80% çš„æƒ…å†µä¸‹ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯å¸¸è§„ä¸”ä¹å‘³çš„ï¼Œè€Œå¦å¤– 20% çš„æƒ…å†µä¸‹ï¼Œå®ƒåˆå¥‡æ€ªåˆä»¤äººæ²®ä¸§ã€‚

That's a bad place to start learning a new subject!

è¿™å¯¹äºå¼€å§‹å­¦ä¹ ä¸€ä¸ªæ–°ä¸»é¢˜æ¥è¯´ä¸æ˜¯ä¸€ä¸ªå¥½çš„èµ·ç‚¹ï¼

Instead, we'll start with visualization and transformation of data that's already been imported and tidied.

å› æ­¤ï¼Œæˆ‘ä»¬å°†ä»å·²å¯¼å…¥å’Œæ•´ç†å¥½çš„æ•°æ®çš„å¯è§†åŒ–å’Œè½¬æ¢å¼€å§‹ã€‚

That way, when you ingest and tidy your own data, your motivation will stay high because you know the pain is worth the effort.

è¿™æ ·ï¼Œå½“ä½ å¤„ç†å’Œæ•´ç†è‡ªå·±çš„æ•°æ®æ—¶ï¼Œä½ ä¼šä¿æŒé«˜æ˜‚çš„ç§¯ææ€§ï¼Œå› ä¸ºä½ çŸ¥é“è¿™äº›è¾›è‹¦æ˜¯å€¼å¾—çš„ã€‚

Within each chapter, we try to adhere to a consistent pattern: start with some motivating examples so you can see the bigger picture, and then dive into the details.

åœ¨æ¯ä¸€ç« ä¸­ï¼Œæˆ‘ä»¬éƒ½å°½é‡éµå¾ªä¸€ä¸ªä¸€è‡´çš„æ¨¡å¼ï¼šä»ä¸€äº›æ¿€åŠ±äººå¿ƒçš„ä¾‹å­å¼€å§‹ï¼Œè®©ä½ çœ‹åˆ°å…¨å±€ï¼Œç„¶åå†æ·±å…¥ç»†èŠ‚ã€‚

Each section of the book is paired with exercises to help you practice what you've learned.

æœ¬ä¹¦çš„æ¯ä¸ªéƒ¨åˆ†éƒ½é…æœ‰ç»ƒä¹ ï¼Œä»¥å¸®åŠ©ä½ å®è·µæ‰€å­¦å†…å®¹ã€‚

Although it can be tempting to skip the exercises, there's no better way to learn than by practicing on real problems.

å°½ç®¡è·³è¿‡ç»ƒä¹ å¾ˆè¯±äººï¼Œä½†æ²¡æœ‰æ¯”é€šè¿‡è§£å†³å®é™…é—®é¢˜è¿›è¡Œç»ƒä¹ æ›´å¥½çš„å­¦ä¹ æ–¹æ³•äº†ã€‚

## What you won't learn

There are several important topics that this book doesn't cover.

æœ¬ä¹¦æ²¡æœ‰æ¶µç›–å‡ ä¸ªé‡è¦ä¸»é¢˜ã€‚

We believe it's important to stay ruthlessly focused on the essentials so you can get up and running as quickly as possible.

æˆ‘ä»¬è®¤ä¸ºï¼Œä¸¥æ ¼ä¸“æ³¨äºåŸºç¡€çŸ¥è¯†éå¸¸é‡è¦ï¼Œè¿™æ ·ä½ æ‰èƒ½å°½å¿«ä¸Šæ‰‹ã€‚

That means this book can't cover every important topic.

è¿™æ„å‘³ç€æœ¬ä¹¦æ— æ³•æ¶µç›–æ‰€æœ‰é‡è¦ä¸»é¢˜ã€‚

### Modeling

Modeling is super important for data science, but it's a big topic, and unfortunately, we just don't have the space to give it the coverage it deserves here.

å»ºæ¨¡å¯¹äºæ•°æ®ç§‘å­¦éå¸¸é‡è¦ï¼Œä½†å®ƒæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„ä¸»é¢˜ï¼Œä¸å¹¸çš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œæ²¡æœ‰è¶³å¤Ÿçš„ç¯‡å¹…æ¥ç»™äºˆå®ƒåº”æœ‰çš„ä»‹ç»ã€‚

To learn more about modeling, we highly recommend [Tidy Modeling with R](https://www.tmwr.org) by our colleagues Max Kuhn and Julia Silge.

è¦äº†è§£æ›´å¤šå…³äºå»ºæ¨¡çš„çŸ¥è¯†ï¼Œæˆ‘ä»¬å¼ºçƒˆæ¨èæˆ‘ä»¬çš„åŒäº‹ Max Kuhn å’Œ Julia Silge ç¼–å†™çš„ [ã€ŠTidy Modeling with Rã€‹](https://www.tmwr.org)ã€‚

This book will teach you the tidymodels family of packages, which, as you might guess from the name, share many conventions with the tidyverse packages we use in this book.

è¿™æœ¬ä¹¦å°†æ•™ä½  tidymodels ç³»åˆ—åŒ…ï¼Œæ­£å¦‚ä½ å¯èƒ½ä»åå­—ä¸­çŒœåˆ°çš„é‚£æ ·ï¼Œå®ƒä¸æˆ‘ä»¬åœ¨æœ¬ä¹¦ä¸­ä½¿ç”¨çš„ tidyverse åŒ…æœ‰è®¸å¤šå…±åŒçš„çº¦å®šã€‚

### Big data

This book proudly and primarily focuses on small, in-memory datasets.

æœ¬ä¹¦ä¸»è¦ä¸”è‡ªè±ªåœ°ä¸“æ³¨äºå†…å­˜ä¸­çš„å°å‹æ•°æ®é›†ã€‚

This is the right place to start because you can't tackle big data unless you have experience with small data.

è¿™æ˜¯ä¸€ä¸ªæ­£ç¡®çš„èµ·ç‚¹ï¼Œå› ä¸ºå¦‚æœä½ æ²¡æœ‰å¤„ç†å°æ•°æ®çš„ç»éªŒï¼Œä½ å°±æ— æ³•å¤„ç†å¤§æ•°æ®ã€‚

The tools you'll learn throughout the majority of this book will easily handle hundreds of megabytes of data, and with a bit of care, you can typically use them to work with a few gigabytes of data.

ä½ åœ¨æœ¬ä¹¦å¤§éƒ¨åˆ†å†…å®¹ä¸­å­¦åˆ°çš„å·¥å…·å¯ä»¥è½»æ¾å¤„ç†æ•°ç™¾å…†å­—èŠ‚çš„æ•°æ®ï¼Œå¦‚æœç¨åŠ æ³¨æ„ï¼Œä½ é€šå¸¸å¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥å¤„ç†å‡ åƒå…†å­—èŠ‚çš„æ•°æ®ã€‚

We'll also show you how to get data out of databases and parquet files, both of which are often used to store big data.

æˆ‘ä»¬è¿˜å°†å‘ä½ å±•ç¤ºå¦‚ä½•ä»æ•°æ®åº“å’Œ parquet æ–‡ä»¶ä¸­è·å–æ•°æ®ï¼Œè¿™ä¸¤ç§æ–‡ä»¶éƒ½å¸¸ç”¨äºå­˜å‚¨å¤§æ•°æ®ã€‚

You won't necessarily be able to work with the entire dataset, but that's not a problem because you only need a subset or subsample to answer the question that you're interested in.

ä½ ä¸ä¸€å®šèƒ½å¤„ç†æ•´ä¸ªæ•°æ®é›†ï¼Œä½†è¿™ä¸æˆé—®é¢˜ï¼Œå› ä¸ºä½ åªéœ€è¦ä¸€ä¸ªå­é›†æˆ–å­æ ·æœ¬æ¥å›ç­”ä½ æ„Ÿå…´è¶£çš„é—®é¢˜ã€‚

If you're routinely working with larger data (10--100 GB, say), we recommend learning more about [data.table](https://github.com/Rdatatable/data.table).

å¦‚æœä½ ç»å¸¸å¤„ç†æ›´å¤§çš„æ•°æ®ï¼ˆæ¯”å¦‚ 10-100 GBï¼‰ï¼Œæˆ‘ä»¬å»ºè®®ä½ å­¦ä¹ æ›´å¤šå…³äº [data.table](https://github.com/Rdatatable/data.table) çš„çŸ¥è¯†ã€‚

We don't teach it here because it uses a different interface than the tidyverse and requires you to learn some different conventions.

æˆ‘ä»¬åœ¨è¿™é‡Œä¸æ•™å®ƒï¼Œå› ä¸ºå®ƒä½¿ç”¨äº†ä¸ tidyverse ä¸åŒçš„æ¥å£ï¼Œå¹¶ä¸”éœ€è¦ä½ å­¦ä¹ ä¸€äº›ä¸åŒçš„çº¦å®šã€‚

However, it is incredibly faster, and the performance payoff is worth investing some time in learning it if you're working with large data.

ç„¶è€Œï¼Œå®ƒçš„é€Ÿåº¦éå¸¸å¿«ï¼Œå¦‚æœä½ å¤„ç†å¤§æ•°æ®ï¼Œé‚£ä¹ˆèŠ±æ—¶é—´å­¦ä¹ å®ƒæ‰€å¸¦æ¥çš„æ€§èƒ½æå‡æ˜¯å€¼å¾—çš„ã€‚

### Python, Julia, and friends

In this book, you won't learn anything about Python, Julia, or any other programming language useful for data science.

åœ¨æœ¬ä¹¦ä¸­ï¼Œä½ ä¸ä¼šå­¦åˆ°ä»»ä½•å…³äº Pythonã€Julia æˆ–ä»»ä½•å…¶ä»–å¯ç”¨äºæ•°æ®ç§‘å­¦çš„ç¼–ç¨‹è¯­è¨€çš„çŸ¥è¯†ã€‚

This isn't because we think these tools are bad.

è¿™å¹¶ä¸æ˜¯å› ä¸ºæˆ‘ä»¬è®¤ä¸ºè¿™äº›å·¥å…·ä¸å¥½ã€‚

They're not!

å®ƒä»¬ä¸æ˜¯ï¼

And in practice, most data science teams use a mix of languages, often at least R and Python.

åœ¨å®è·µä¸­ï¼Œå¤§å¤šæ•°æ•°æ®ç§‘å­¦å›¢é˜Ÿä¼šæ··åˆä½¿ç”¨å¤šç§è¯­è¨€ï¼Œé€šå¸¸è‡³å°‘åŒ…æ‹¬ R å’Œ Pythonã€‚

But we strongly believe that it's best to master one tool at a time, and R is a great place to start.

ä½†æˆ‘ä»¬åšä¿¡ï¼Œä¸€æ¬¡æŒæ¡ä¸€ä¸ªå·¥å…·æ˜¯æœ€å¥½çš„ï¼Œè€Œ R æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„èµ·ç‚¹ã€‚

## Prerequisites

We've made a few assumptions about what you already know to get the most out of this book.

ä¸ºäº†è®©ä½ èƒ½ä»æœ¬ä¹¦ä¸­è·å¾—æœ€å¤§æ”¶ç›Šï¼Œæˆ‘ä»¬å¯¹ä½ å·²æœ‰çš„çŸ¥è¯†åšäº†ä¸€äº›å‡è®¾ã€‚

You should be generally numerically literate, and it's helpful if you have some basic programming experience already.

ä½ åº”è¯¥å…·å¤‡åŸºæœ¬çš„æ•°å­—ç´ å…»ï¼Œå¦‚æœå·²ç»æœ‰ä¸€äº›åŸºç¡€çš„ç¼–ç¨‹ç»éªŒä¼šæ›´æœ‰å¸®åŠ©ã€‚

If you've never programmed before, you might find [Hands on Programming with R](https://rstudio-education.github.io/hopr/) by Garrett to be a valuable adjunct to this book.

å¦‚æœä½ ä»¥å‰ä»æœªç¼–ç¨‹è¿‡ï¼Œä½ å¯èƒ½ä¼šå‘ç° Garrett ç¼–å†™çš„ [ã€ŠHands on Programming with Rã€‹](https://rstudio-education.github.io/hopr/) æ˜¯æœ¬ä¹¦çš„ä¸€ä¸ªæœ‰ä»·å€¼çš„è¡¥å……ã€‚

You need four things to run the code in this book: R, RStudio, a collection of R packages called the **tidyverse**, and a handful of other packages.

ä½ éœ€è¦å››æ ·ä¸œè¥¿æ¥è¿è¡Œæœ¬ä¹¦ä¸­çš„ä»£ç ï¼šRã€RStudioã€ä¸€ä¸ªåä¸º **tidyverse** çš„ R åŒ…é›†åˆï¼Œä»¥åŠä¸€äº›å…¶ä»–åŒ…ã€‚

Packages are the fundamental units of reproducible R code.

åŒ… (Packages) æ˜¯å¯é‡ç° R ä»£ç çš„åŸºæœ¬å•ä½ã€‚

They include reusable functions, documentation that describes how to use them, and sample data.

å®ƒä»¬åŒ…æ‹¬å¯é‡ç”¨çš„å‡½æ•°ã€æè¿°å¦‚ä½•ä½¿ç”¨å®ƒä»¬çš„æ–‡æ¡£ä»¥åŠç¤ºä¾‹æ•°æ®ã€‚

### R

To download R, go to CRAN, the **c**omprehensive **R** **a**rchive **n**etwork, [https://cloud.r-project.org](https://cloud.r-project.org).

è¦ä¸‹è½½ Rï¼Œè¯·è®¿é—® CRAN (the **c**omprehensive **R** **a**rchive **n**etwork)ï¼Œç½‘å€ä¸º [https://cloud.r-project.org](https://cloud.r-project.org)ã€‚

A new major version of R comes out once a year, and there are 2-3 minor releases each year.

R æ¯å¹´å‘å¸ƒä¸€ä¸ªæ–°çš„ä¸»ç‰ˆæœ¬ï¼Œå¹¶ä¸”æ¯å¹´æœ‰ 2-3 ä¸ªæ¬¡è¦ç‰ˆæœ¬å‘å¸ƒã€‚

It's a good idea to update regularly.

å®šæœŸæ›´æ–°æ˜¯ä¸ªå¥½ä¸»æ„ã€‚

Upgrading can be a bit of a hassle, especially for major versions that require you to re-install all your packages, but putting it off only makes it worse.

å‡çº§å¯èƒ½æœ‰ç‚¹éº»çƒ¦ï¼Œç‰¹åˆ«æ˜¯å¯¹äºéœ€è¦é‡æ–°å®‰è£…æ‰€æœ‰åŒ…çš„ä¸»ç‰ˆæœ¬ï¼Œä½†æ‹–å»¶åªä¼šè®©æƒ…å†µå˜å¾—æ›´ç³Ÿã€‚

We recommend R 4.2.0 or later for this book.

æœ¬ä¹¦æ¨èä½¿ç”¨ R 4.2.0 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚

### RStudio

RStudio is an integrated development environment, or IDE, for R programming, which you can download from [https://posit.co/download/rstudio-desktop/](https://posit.co/download/rstudio-desktop/).

RStudio æ˜¯ä¸€ä¸ªç”¨äº R ç¼–ç¨‹çš„é›†æˆå¼€å‘ç¯å¢ƒ (IDE)ï¼Œä½ å¯ä»¥ä» [https://posit.co/download/rstudio-desktop/](https://posit.co/download/rstudio-desktop/) ä¸‹è½½ã€‚

RStudio is updated a couple of times a year, and it will automatically let you know when a new version is out, so there's no need to check back.

RStudio æ¯å¹´æ›´æ–°å‡ æ¬¡ï¼Œå½“æ–°ç‰ˆæœ¬å‘å¸ƒæ—¶å®ƒä¼šè‡ªåŠ¨é€šçŸ¥ä½ ï¼Œæ‰€ä»¥æ— éœ€åå¤æ£€æŸ¥ã€‚

It's a good idea to upgrade regularly to take advantage of the latest and greatest features.

å®šæœŸå‡çº§ä»¥åˆ©ç”¨æœ€æ–°æœ€å¥½çš„åŠŸèƒ½æ˜¯ä¸ªå¥½ä¸»æ„ã€‚

For this book, make sure you have at least RStudio 2022.02.0.

å¯¹äºæœ¬ä¹¦ï¼Œè¯·ç¡®ä¿ä½ è‡³å°‘æ‹¥æœ‰ RStudio 2022.02.0 ç‰ˆæœ¬ã€‚

When you start RStudio, @fig-rstudio-console, you'll see two key regions in the interface: the console pane and the output pane.

å½“ä½ å¯åŠ¨ RStudio æ—¶ï¼Œå¦‚ @fig-rstudio-console æ‰€ç¤ºï¼Œä½ ä¼šåœ¨ç•Œé¢ä¸­çœ‹åˆ°ä¸¤ä¸ªå…³é”®åŒºåŸŸï¼šæ§åˆ¶å°çª—æ ¼ (console pane) å’Œè¾“å‡ºçª—æ ¼ (output pane)ã€‚

For now, all you need to know is that you type the R code in the console pane and press enter to run it.

ç›®å‰ï¼Œä½ åªéœ€è¦çŸ¥é“åœ¨æ§åˆ¶å°çª—æ ¼ä¸­è¾“å…¥ R ä»£ç å¹¶æŒ‰ Enter é”®æ¥è¿è¡Œå®ƒã€‚

You'll learn more as we go along![^1]

éšç€å­¦ä¹ çš„æ·±å…¥ï¼Œä½ ä¼šå­¦åˆ°æ›´å¤šï¼[^1]

```{r}
#| label: fig-rstudio-console
#| echo: false
#| out-width: ~
#| fig-cap: |
#|   The RStudio IDE has two key regions: type R code in the console pane
#|   on the left, and look for plots in the output pane on the right.
#| fig-alt: |
#|   The RStudio IDE with the panes Console and Output highlighted.
knitr::include_graphics("diagrams/rstudio/console.png", dpi = 270)
```

### The tidyverse

You'll also need to install some R packages.

ä½ è¿˜éœ€è¦å®‰è£…ä¸€äº› R åŒ…ã€‚

An R **package** is a collection of functions, data, and documentation that extends the capabilities of base R.

R **åŒ…** (package) æ˜¯ä¸€ä¸ªå‡½æ•°ã€æ•°æ®å’Œæ–‡æ¡£çš„é›†åˆï¼Œå®ƒæ‰©å±•äº†åŸºç¡€ R çš„åŠŸèƒ½ã€‚

Using packages is key to the successful use of R.

ä½¿ç”¨åŒ…æ˜¯æˆåŠŸä½¿ç”¨ R çš„å…³é”®ã€‚

The majority of the packages that you will learn in this book are part of the so-called tidyverse.

ä½ åœ¨æœ¬ä¹¦ä¸­å°†å­¦åˆ°çš„å¤§éƒ¨åˆ†åŒ…éƒ½å±äºæ‰€è°“çš„ tidyverseã€‚

All packages in the tidyverse share a common philosophy of data and R programming and are designed to work together.

tidyverse ä¸­çš„æ‰€æœ‰åŒ…éƒ½å…±äº«ä¸€ç§é€šç”¨çš„æ•°æ®å’Œ R ç¼–ç¨‹ç†å¿µï¼Œå¹¶ä¸”è¢«è®¾è®¡ä¸ºå¯ä»¥ååŒå·¥ä½œã€‚

You can install the complete tidyverse with a single line of code:

ä½ å¯ä»¥ç”¨ä¸€è¡Œä»£ç å®‰è£…å®Œæ•´çš„ tidyverseï¼š

```{r}
#| eval: false
install.packages("tidyverse")
```

On your computer, type that line of code in the console, and then press enter to run it.

åœ¨ä½ çš„è®¡ç®—æœºä¸Šï¼Œåœ¨æ§åˆ¶å°ä¸­è¾“å…¥é‚£è¡Œä»£ç ï¼Œç„¶åæŒ‰ Enter é”®è¿è¡Œå®ƒã€‚

R will download the packages from CRAN and install them on your computer.

R å°†ä» CRAN ä¸‹è½½è¿™äº›åŒ…å¹¶å®‰è£…åˆ°ä½ çš„è®¡ç®—æœºä¸Šã€‚

You will not be able to use the functions, objects, or help files in a package until you load it with `library()`.

åœ¨ä½¿ç”¨ `library()` åŠ è½½åŒ…ä¹‹å‰ï¼Œä½ å°†æ— æ³•ä½¿ç”¨å…¶ä¸­çš„å‡½æ•°ã€å¯¹è±¡æˆ–å¸®åŠ©æ–‡ä»¶ã€‚

Once you have installed a package, you can load it using the `library()` function:

å®‰è£…åŒ…åï¼Œä½ å¯ä»¥ä½¿ç”¨ `library()` å‡½æ•°åŠ è½½å®ƒï¼š

```{r}
library(tidyverse)
```

This tells you that tidyverse loads nine packages: dplyr, forcats, ggplot2, lubridate, purrr, readr, stringr, tibble, tidyr.

è¿™ä¼šå‘Šè¯‰ä½  tidyverse åŠ è½½äº†ä¹ä¸ªåŒ…ï¼šdplyrã€forcatsã€ggplot2ã€lubridateã€purrrã€readrã€stringrã€tibbleã€tidyrã€‚

These are considered the **core** of the tidyverse because you'll use them in almost every analysis.

è¿™äº›è¢«è®¤ä¸ºæ˜¯ tidyverse çš„ **æ ¸å¿ƒ**ï¼Œå› ä¸ºä½ å‡ ä¹åœ¨æ¯æ¬¡åˆ†æä¸­éƒ½ä¼šä½¿ç”¨å®ƒä»¬ã€‚

Packages in the tidyverse change fairly frequently.

tidyverse ä¸­çš„åŒ…å˜åŒ–ç›¸å½“é¢‘ç¹ã€‚

You can see if updates are available by running `tidyverse_update()`.

ä½ å¯ä»¥è¿è¡Œ `tidyverse_update()` æ¥æŸ¥çœ‹æ˜¯å¦æœ‰å¯ç”¨çš„æ›´æ–°ã€‚

### Other packages

There are many other excellent packages that are not part of the tidyverse because they solve problems in a different domain or are designed with a different set of underlying principles.

è¿˜æœ‰è®¸å¤šå…¶ä»–ä¼˜ç§€çš„åŒ…ä¸å±äº tidyverseï¼Œå› ä¸ºå®ƒä»¬è§£å†³çš„æ˜¯ä¸åŒé¢†åŸŸçš„é—®é¢˜ï¼Œæˆ–è€…éµå¾ªä¸€å¥—ä¸åŒçš„åŸºæœ¬åŸåˆ™è¿›è¡Œè®¾è®¡ã€‚

This doesn't make them better or worse; it just makes them different.

è¿™å¹¶ä¸æ˜¯è¯´å®ƒä»¬æ›´å¥½æˆ–æ›´å·®ï¼Œåªæ˜¯å®ƒä»¬ä¸åŒã€‚

In other words, the complement to the tidyverse is not the messyverse but many other universes of interrelated packages.

æ¢å¥è¯è¯´ï¼Œä¸ tidyverse äº’è¡¥çš„ä¸æ˜¯ messyverseï¼ˆæ··ä¹±å®‡å®™ï¼‰ï¼Œè€Œæ˜¯è®¸å¤šå…¶ä»–ç›¸äº’å…³è”çš„åŒ…çš„å®‡å®™ã€‚

As you tackle more data science projects with R, you'll learn new packages and new ways of thinking about data.

éšç€ä½ ç”¨ R è§£å†³æ›´å¤šçš„æ•°æ®ç§‘å­¦é¡¹ç›®ï¼Œä½ å°†å­¦ä¹ æ–°çš„åŒ…å’Œæ–°çš„æ•°æ®æ€ç»´æ–¹å¼ã€‚

We'll use many packages from outside the tidyverse in this book.
æœ¬ä¹¦ä¸­æˆ‘ä»¬å°†ä½¿ç”¨è®¸å¤šæ¥è‡ª tidyverse ä¹‹å¤–çš„åŒ…ã€‚

For example, we'll use the following packages because they provide interesting datasets for us to work with in the process of learning R:

ä¾‹å¦‚ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä»¥ä¸‹åŒ…ï¼Œå› ä¸ºå®ƒä»¬åœ¨æˆ‘ä»¬å­¦ä¹  R çš„è¿‡ç¨‹ä¸­æä¾›äº†æœ‰è¶£çš„æ•°æ®é›†ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼š

```{r}
#| eval: false
install.packages(
Â  c("arrow", "babynames", "curl", "duckdb", "gapminder",Â 
Â  Â  "ggrepel", "ggridges", "ggthemes", "hexbin", "janitor", "Lahman",Â 
Â  Â  "leaflet", "maps", "nycflights13", "openxlsx", "palmerpenguins",Â 
Â  Â  "repurrrsive", "tidymodels", "writexl")
Â  )
```

We'll also use a selection of other packages for one off examples.

æˆ‘ä»¬è¿˜å°†ä¸ºä¸€äº›ä¸€æ¬¡æ€§çš„ä¾‹å­ä½¿ç”¨ä¸€äº›å…¶ä»–çš„åŒ…ã€‚

You don't need to install them now, just remember that whenever you see an error like this:

ä½ ç°åœ¨ä¸éœ€è¦å®‰è£…å®ƒä»¬ï¼Œåªéœ€è®°ä½ï¼Œå½“ä½ çœ‹åˆ°å¦‚ä¸‹é”™è¯¯æ—¶ï¼š

```{r}
#| eval: false
library(ggrepel)
#> Error in library(ggrepel) : there is no package called â€˜ggrepelâ€™
```

You need to run `install.packages("ggrepel")` to install the package.

ä½ éœ€è¦è¿è¡Œ `install.packages("ggrepel")` æ¥å®‰è£…è¯¥åŒ…ã€‚

## Running R code

The previous section showed you several examples of running R code.

ä¸Šä¸€èŠ‚å‘ä½ å±•ç¤ºäº†å‡ ä¸ªè¿è¡Œ R ä»£ç çš„ä¾‹å­ã€‚

The code in the book looks like this:

ä¹¦ä¸­çš„ä»£ç çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š

```{r}
#| eval: true
1 + 2
```

If you run the same code in your local console, it will look like this:

å¦‚æœä½ åœ¨æœ¬åœ°æ§åˆ¶å°ä¸­è¿è¡Œç›¸åŒçš„ä»£ç ï¼Œå®ƒä¼šçœ‹èµ·æ¥åƒè¿™æ ·ï¼š

```Â  Â  Â  Â  Â 
> 1 + 2
[1] 3
```

There are two main differences.

è¿™é‡Œæœ‰ä¸¤ä¸ªä¸»è¦åŒºåˆ«ã€‚

In your console, you type after the `>`, called the **prompt**; we don't show the prompt in the book.

åœ¨ä½ çš„æ§åˆ¶å°ä¸­ï¼Œä½ åœ¨ `>`ï¼ˆç§°ä¸º **æç¤ºç¬¦** (prompt)ï¼‰åé¢è¾“å…¥ï¼›æˆ‘ä»¬åœ¨ä¹¦ä¸­ä¸æ˜¾ç¤ºæç¤ºç¬¦ã€‚

In the book, the output is commented out with `#>`; in your console, it appears directly after your code.

åœ¨ä¹¦ä¸­ï¼Œè¾“å‡ºç”¨ `#>` æ³¨é‡Šæ‰ï¼›åœ¨ä½ çš„æ§åˆ¶å°ä¸­ï¼Œå®ƒç›´æ¥å‡ºç°åœ¨ä½ çš„ä»£ç ä¹‹åã€‚

These two differences mean that if you're working with an electronic version of the book, you can easily copy code out of the book and paste it into the console.

è¿™ä¸¤ä¸ªåŒºåˆ«æ„å‘³ç€ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯æœ¬ä¹¦çš„ç”µå­ç‰ˆï¼Œä½ å¯ä»¥è½»æ¾åœ°ä»ä¹¦ä¸­å¤åˆ¶ä»£ç å¹¶ç²˜è´´åˆ°æ§åˆ¶å°ä¸­ã€‚

Throughout the book, we use a consistent set of conventions to refer to code:

åœ¨æ•´æœ¬ä¹¦ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€å¥—ä¸€è‡´çš„çº¦å®šæ¥å¼•ç”¨ä»£ç ï¼š

-Â  Â Functions are displayed in a code font and followed by parentheses, like `sum()` or `mean()`.

-Â  Â å‡½æ•°ä»¥ä»£ç å­—ä½“æ˜¾ç¤ºï¼Œå¹¶åè·Ÿæ‹¬å·ï¼Œå¦‚ `sum()` æˆ– `mean()`ã€‚

-Â  Â Other R objects (such as data or function arguments) are in a code font, without parentheses, like `flights` or `x`.

-Â  Â å…¶ä»– R å¯¹è±¡ï¼ˆä¾‹å¦‚æ•°æ®æˆ–å‡½æ•°å‚æ•°ï¼‰ä½¿ç”¨ä»£ç å­—ä½“ï¼Œä¸å¸¦æ‹¬å·ï¼Œå¦‚ `flights` æˆ– `x`ã€‚

-Â  Â Sometimes, to make it clear which package an object comes from, we'll use the package name followed by two colons, like `dplyr::mutate()` or `nycflights13::flights`.
Â  Â  This is also valid R code.

-Â  Â æœ‰æ—¶ï¼Œä¸ºäº†æ˜ç¡®ä¸€ä¸ªå¯¹è±¡æ¥è‡ªå“ªä¸ªåŒ…ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨åŒ…ååè·Ÿä¸¤ä¸ªå†’å·çš„å½¢å¼ï¼Œå¦‚ `dplyr::mutate()` æˆ– `nycflights13::flights`ã€‚è¿™ä¹Ÿæ˜¯æœ‰æ•ˆçš„ R ä»£ç ã€‚

## Acknowledgments

This book isn't just the product of Hadley, Mine, and Garrett but is the result of many conversations (in person and online) that we've had with many people in the R community.

æœ¬ä¹¦ä¸ä»…ä»…æ˜¯ Hadleyã€Mine å’Œ Garrett çš„æˆæœï¼Œä¹Ÿæ˜¯æˆ‘ä»¬ä¸ R ç¤¾åŒºä¸­è®¸å¤šäººè¿›è¡Œå¤šæ¬¡ï¼ˆé¢å¯¹é¢å’Œåœ¨çº¿ï¼‰å¯¹è¯çš„ç»“æœã€‚

We're incredibly grateful for all the conversations we've had with y'all; thank you so much!

æˆ‘ä»¬éå¸¸æ„Ÿè°¢ä¸å¤§å®¶è¿›è¡Œçš„æ‰€æœ‰å¯¹è¯ï¼›éå¸¸æ„Ÿè°¢ä½ ä»¬ï¼

```{r}
#| eval: false
#| echo: false
library(tidyverse)
contribs_all_json <- gh::gh("/repos/:owner/:repo/contributors",
Â  owner = "hadley",
Â  repo = "r4ds",
Â  .limit = Inf
)
contribs_all <- tibble(
Â  login = contribs_all_json |> map_chr("login"),
Â  n = contribs_all_json |> map_int("contributions")
)

contribs_old <- read_csv("contributors.csv", col_types = list())
contribs_new <- contribs_all |> anti_join(contribs_old, by = "login")

# Get info for new contributors
needed_json <- map(
Â  contribs_new$login,Â 
Â  ~ gh::gh("/users/:username", username = .x),
Â  .progress = TRUE
)
info_new <- tibble(
Â  login = contribs_new$login,
Â  name = map_chr(needed_json, "name", .default = NA),
Â  blog = map_chr(needed_json, "blog", .default = NA)
)
info_old <- contribs_old |> select(login, name, blog)
info_all <- bind_rows(info_old, info_new)

contribs_all <- contribs_all |>Â 
Â  left_join(info_all, by = "login") |>Â 
Â  mutate(login_lowercase = str_to_lower(login)) |>
Â  arrange(login_lowercase) |>
Â  select(-login_lowercase)
write_csv(contribs_all, "contributors.csv")
```


```{r}
#| results: asis
#| echo: false
#| message: false
library(dplyr)
contributors <- readr::read_csv("contributors.csv")
contributors <- contributors |> 
  filter(!login %in% c("hadley", "garrettgman", "mine-cetinkaya-rundel")) |> 
  mutate(
    login = paste0("\\@", login),
    desc = ifelse(is.na(name), login, paste0(name, " (", login, ")"))
  )

cat("This book was written in the open, and many people contributed via pull requests. A special thanks to all ",nrow(contributors), " of you who contributed improvements via GitHub pull requests (in alphabetical order by username): ", sep = "")

cat("æœ¬ä¹¦æ˜¯å…¬å¼€å†™æˆçš„ï¼Œè®¸å¤šäººé€šè¿‡æ‹‰å–è¯·æ±‚ (pull requests) åšå‡ºäº†è´¡çŒ®ã€‚ç‰¹åˆ«æ„Ÿè°¢æ‰€æœ‰é€šè¿‡ GitHub æ‹‰å–è¯·æ±‚ï¼ˆæŒ‰ç”¨æˆ·åé¦–å­—æ¯æ’åºï¼‰ä¸ºæœ¬ä¹¦åšå‡ºæ”¹è¿›çš„ ",nrow(contributors), " ä½è´¡çŒ®è€…ï¼š", sep = "")
cat(paste0(contributors$desc, collapse = ", "))
cat(".\n")
```


## Colophon

An online version of this book is available at [https://r4ds.hadley.nz](https://r4ds.hadley.nz).

æœ¬ä¹¦çš„åœ¨çº¿ç‰ˆæœ¬å¯åœ¨ [https://r4ds.hadley.nz](https://r4ds.hadley.nz) æŸ¥çœ‹ã€‚

It will continue to evolve in between reprints of the physical book.

åœ¨å®ä½“ä¹¦å†ç‰ˆä¹‹é—´ï¼Œå®ƒå°†ç»§ç»­å‘å±•ã€‚

The source of the book is available at [https://github.com/hadley/r4ds](https://github.com/hadley/r4ds).

æœ¬ä¹¦çš„æºä»£ç å¯åœ¨ [https://github.com/hadley/r4ds](https://github.com/hadley/r4ds) æ‰¾åˆ°ã€‚

The book is powered by [Quarto](https://quarto.org), which makes it easy to write books that combine text and executable code.

æœ¬ä¹¦ç”± [Quarto](https://quarto.org) æä¾›æ”¯æŒï¼Œå®ƒä½¿å¾—ç¼–å†™ç»“åˆæ–‡æœ¬å’Œå¯æ‰§è¡Œä»£ç çš„ä¹¦ç±å˜å¾—å®¹æ˜“ã€‚

```{r}
#| eval: false
#| echo: false
#| results: asis
pkgs <- sessioninfo::package_info(
Â  tidyverse:::tidyverse_packages(),
Â  dependencies = FALSE
)
df <- tibble(
Â  package = pkgs$package,
Â  version = pkgs$ondiskversion,
Â  source = gsub("@", "\\\\@", pkgs$source)
)
knitr::kable(df, format = "markdown")
```

```{r}
#| include: false
cli:::ruler()
```

[^1]:
    If you'd like a comprehensive overview of all of RStudio's features, see the RStudio User Guide at [https://docs.posit.co/ide/user](https://docs.posit.co/ide/user).
