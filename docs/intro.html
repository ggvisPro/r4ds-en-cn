<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Hadley Wickham, Mine Ã‡etinkaya-Rundel, and Garrett Grolemund">
<title>Introduction â€“ R æ•°æ®ç§‘å­¦ 2e</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./whole-game.html" rel="next">
<link href="./preface-2e.html" rel="prev">
<link href="./cover.jpg" rel="icon" type="image/jpeg">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-cfa698a38273543b64ee69d493127e2a.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script defer="" data-domain="r4ds.hadley.nz" src="https://plausible.io/js/plausible.js"></script>
</head>
<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./intro.html">Introduction</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">R æ•°æ®ç§‘å­¦ 2e</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/ggvisPro/r4ds-cn/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preface-2e.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface to the second edition</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./whole-game.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Whole game</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-visualize.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Data visualization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./workflow-basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Workflow: basics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-transform.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data transformation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./workflow-style.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Workflow: code style</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-tidy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data tidying</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./workflow-scripts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Workflow: scripts and projects</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-import.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Data import</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./workflow-help.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Workflow: getting help</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./visualize.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Visualize</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./layers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Layers</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./EDA.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Exploratory data analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./communication.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Communication</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./transform.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">æ•°æ®è½¬æ¢</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./logicals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">é€»è¾‘å‘é‡</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./numbers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">æ•°å€¼</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./strings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">å­—ç¬¦ä¸²</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./regexps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">æ­£åˆ™è¡¨è¾¾å¼</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./factors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">å› å­</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./datetimes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">æ—¥æœŸå’Œæ—¶é—´</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./missing-values.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">ç¼ºå¤±å€¼</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./joins.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">è¿æ¥</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./import.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">å¯¼å…¥</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./spreadsheets.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">ç”µå­è¡¨æ ¼</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./databases.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">æ•°æ®åº“</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./arrow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Arrow</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rectangling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">å±‚çº§æ•°æ®</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./webscraping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">ç½‘ç»œæŠ“å–</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./program.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ç¼–ç¨‹</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">å‡½æ•°</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./iteration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">è¿­ä»£</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./base-R.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Base R å®æˆ˜æŒ‡å—</span></span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./communicate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">æ²Ÿé€š</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quarto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Quarto</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quarto-formats.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Quarto æ ¼å¼</span></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#what-you-will-learn" id="toc-what-you-will-learn" class="nav-link active" data-scroll-target="#what-you-will-learn">What you will learn</a></li>
  <li><a href="#how-this-book-is-organized" id="toc-how-this-book-is-organized" class="nav-link" data-scroll-target="#how-this-book-is-organized">How this book is organized</a></li>
  <li>
<a href="#what-you-wont-learn" id="toc-what-you-wont-learn" class="nav-link" data-scroll-target="#what-you-wont-learn">What you wonâ€™t learn</a>
  <ul class="collapse">
<li><a href="#modeling" id="toc-modeling" class="nav-link" data-scroll-target="#modeling">Modeling</a></li>
  <li><a href="#big-data" id="toc-big-data" class="nav-link" data-scroll-target="#big-data">Big data</a></li>
  <li><a href="#python-julia-and-friends" id="toc-python-julia-and-friends" class="nav-link" data-scroll-target="#python-julia-and-friends">Python, Julia, and friends</a></li>
  </ul>
</li>
  <li>
<a href="#prerequisites" id="toc-prerequisites" class="nav-link" data-scroll-target="#prerequisites">Prerequisites</a>
  <ul class="collapse">
<li><a href="#r" id="toc-r" class="nav-link" data-scroll-target="#r">R</a></li>
  <li><a href="#rstudio" id="toc-rstudio" class="nav-link" data-scroll-target="#rstudio">RStudio</a></li>
  <li><a href="#the-tidyverse" id="toc-the-tidyverse" class="nav-link" data-scroll-target="#the-tidyverse">The tidyverse</a></li>
  <li><a href="#other-packages" id="toc-other-packages" class="nav-link" data-scroll-target="#other-packages">Other packages</a></li>
  </ul>
</li>
  <li><a href="#running-r-code" id="toc-running-r-code" class="nav-link" data-scroll-target="#running-r-code">Running R code</a></li>
  <li><a href="#acknowledgments" id="toc-acknowledgments" class="nav-link" data-scroll-target="#acknowledgments">Acknowledgments</a></li>
  <li><a href="#colophon" id="toc-colophon" class="nav-link" data-scroll-target="#colophon">Colophon</a></li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/ggvisPro/r4ds-cn/edit/main/intro.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/ggvisPro/r4ds-cn/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title"><span id="sec-intro" class="quarto-section-identifier">Introduction</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><p>Data science is an exciting discipline that allows you to transform raw data into understanding, insight, and knowledge. The goal of â€œR for Data Scienceâ€ is to help you learn the most important tools in R that will allow you to do data science efficiently and reproducibly, and to have some fun along the way ğŸ˜ƒ. After reading this book, youâ€™ll have the tools to tackle a wide variety of data science challenges using the best parts of R.<br>
æ•°æ®ç§‘å­¦æ˜¯ä¸€é—¨æ¿€åŠ¨äººå¿ƒçš„å­¦ç§‘ï¼Œå®ƒèƒ½è®©ä½ å°†åŸå§‹æ•°æ®è½¬åŒ–ä¸ºç†è§£ã€æ´è§å’ŒçŸ¥è¯†ã€‚ ã€ŠR æ•°æ®ç§‘å­¦ã€‹çš„ç›®æ ‡æ˜¯å¸®åŠ©ä½ å­¦ä¹  R ä¸­æœ€é‡è¦çš„å·¥å…·ï¼Œè®©ä½ èƒ½å¤Ÿé«˜æ•ˆã€å¯å¤ç°åœ°è¿›è¡Œæ•°æ®ç§‘å­¦å·¥ä½œï¼Œå¹¶åœ¨æ­¤è¿‡ç¨‹ä¸­è·å¾—ä¸€äº›ä¹è¶£ ğŸ˜ƒã€‚ è¯»å®Œæœ¬ä¹¦åï¼Œä½ å°†æ‹¥æœ‰ä½¿ç”¨ R çš„ç²¾åéƒ¨åˆ†æ¥åº”å¯¹å„ç§æ•°æ®ç§‘å­¦æŒ‘æˆ˜çš„å·¥å…·ã€‚</p>
<section id="what-you-will-learn" class="level2"><h2 class="anchored" data-anchor-id="what-you-will-learn">What you will learn</h2>
<p>Data science is a vast field, and thereâ€™s no way you can master it all by reading a single book. This book aims to give you a solid foundation in the most important tools and enough knowledge to find the resources to learn more when necessary. Our model of the steps of a typical data science project looks something like <a href="#fig-ds-diagram" class="quarto-xref">Figure&nbsp;<span>1</span></a>.<br>
æ•°æ®ç§‘å­¦æ˜¯ä¸€ä¸ªå¹¿é˜”çš„é¢†åŸŸï¼Œä¸å¯èƒ½é€šè¿‡é˜…è¯»ä¸€æœ¬ä¹¦å°±æŒæ¡æ‰€æœ‰å†…å®¹ã€‚ æœ¬ä¹¦æ—¨åœ¨ä¸ºä½ æ‰“ä¸‹æœ€é‡è¦çš„å·¥å…·çš„åšå®åŸºç¡€ï¼Œå¹¶æä¾›è¶³å¤Ÿçš„çŸ¥è¯†ï¼Œä»¥ä¾¿ä½ åœ¨å¿…è¦æ—¶èƒ½æ‰¾åˆ°èµ„æºè¿›è¡Œæ›´æ·±å…¥çš„å­¦ä¹ ã€‚ æˆ‘ä»¬å¯¹ä¸€ä¸ªå…¸å‹æ•°æ®ç§‘å­¦é¡¹ç›®æ­¥éª¤çš„æ¨¡å‹å¦‚ <a href="#fig-ds-diagram" class="quarto-xref">Figure&nbsp;<span>1</span></a> æ‰€ç¤ºã€‚</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-ds-diagram" class="quarto-float quarto-figure quarto-figure-center anchored" alt="A diagram displaying the data science cycle: Import -> Tidy -> Understand  (which has the phases Transform -> Visualize -> Model in a cycle) ->  Communicate. Surrounding all of these is Program. ">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-ds-diagram-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="diagrams/data-science/base.png" class="img-fluid figure-img" alt="A diagram displaying the data science cycle: Import -> Tidy -> Understand  (which has the phases Transform -> Visualize -> Model in a cycle) ->  Communicate. Surrounding all of these is Program. " width="535">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ds-diagram-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: In our model of the data science process, you start with data import and tidying. Next, you understand your data with an iterative cycle of transforming, visualizing, and modeling. You finish the process by communicating your results to other humans.
</figcaption></figure>
</div>
</div>
</div>
<p>First, you must <strong>import</strong> your data into R. This typically means that you take data stored in a file, database, or web application programming interface (API) and load it into a data frame in R. If you canâ€™t get your data into R, you canâ€™t do data science on it!<br>
é¦–å…ˆï¼Œä½ å¿…é¡»å°†æ•°æ® <strong>å¯¼å…¥ (import)</strong> R ä¸­ã€‚ è¿™é€šå¸¸æ„å‘³ç€ä½ å°†å­˜å‚¨åœ¨æ–‡ä»¶ã€æ•°æ®åº“æˆ–ç½‘ç»œåº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ (API) ä¸­çš„æ•°æ®åŠ è½½åˆ° R çš„æ•°æ®æ¡†ä¸­ã€‚ å¦‚æœä½ ä¸èƒ½å°†æ•°æ®å¯¼å…¥ Rï¼Œä½ å°±æ— æ³•å¯¹å…¶è¿›è¡Œæ•°æ®ç§‘å­¦åˆ†æï¼</p>
<p>Once youâ€™ve imported your data, it is a good idea to <strong>tidy</strong> it. Tidying your data means storing it in a consistent form that matches the semantics of the dataset with how it is stored. In brief, when your data is tidy, each column is a variable and each row is an observation. Tidy data is important because the consistent structure lets you focus your efforts on answering questions about the data, not fighting to get the data into the right form for different functions.<br>
å¯¼å…¥æ•°æ®åï¼Œæœ€å¥½å¯¹å…¶è¿›è¡Œ <strong>æ•´ç† (tidy)</strong>ã€‚ æ•´ç†æ•°æ®æ„å‘³ç€ä»¥ä¸€ç§ä¸€è‡´çš„å½¢å¼å­˜å‚¨æ•°æ®ï¼Œä½¿å…¶å­˜å‚¨æ–¹å¼ä¸æ•°æ®é›†çš„è¯­ä¹‰ç›¸åŒ¹é…ã€‚ ç®€è€Œè¨€ä¹‹ï¼Œå½“ä½ çš„æ•°æ®æ˜¯æ•´æ´çš„ï¼Œæ¯ä¸€åˆ—éƒ½æ˜¯ä¸€ä¸ªå˜é‡ï¼Œæ¯ä¸€è¡Œéƒ½æ˜¯ä¸€ä¸ªè§‚æµ‹ã€‚ æ•´æ´çš„æ•°æ®å¾ˆé‡è¦ï¼Œå› ä¸ºä¸€è‡´çš„ç»“æ„è®©ä½ èƒ½é›†ä¸­ç²¾åŠ›å›ç­”å…³äºæ•°æ®çš„é—®é¢˜ï¼Œè€Œä¸æ˜¯è´¹åŠ›åœ°å°†æ•°æ®è½¬æ¢æˆä¸åŒå‡½æ•°æ‰€éœ€çš„æ­£ç¡®å½¢å¼ã€‚</p>
<p>Once you have tidy data, a common next step is to <strong>transform</strong> it. Transformation includes narrowing in on observations of interest (like all people in one city or all data from the last year), creating new variables that are functions of existing variables (like computing speed from distance and time), and calculating a set of summary statistics (like counts or means). Together, tidying and transforming are called <strong>wrangling</strong> because getting your data in a form thatâ€™s natural to work with often feels like a fight!<br>
ä¸€æ—¦ä½ æœ‰äº†æ•´æ´çš„æ•°æ®ï¼Œé€šå¸¸çš„ä¸‹ä¸€æ­¥æ˜¯è¿›è¡Œ <strong>è½¬æ¢ (transform)</strong>ã€‚ è½¬æ¢åŒ…æ‹¬ç­›é€‰æ„Ÿå…´è¶£çš„è§‚æµ‹å€¼ï¼ˆä¾‹å¦‚æŸä¸ªåŸå¸‚çš„æ‰€æœ‰äººæˆ–å»å¹´çš„æ‰€æœ‰æ•°æ®ï¼‰ï¼Œæ ¹æ®ç°æœ‰å˜é‡åˆ›å»ºæ–°å˜é‡ï¼ˆä¾‹å¦‚æ ¹æ®è·ç¦»å’Œæ—¶é—´è®¡ç®—é€Ÿåº¦ï¼‰ï¼Œä»¥åŠè®¡ç®—ä¸€ç»„æ±‡æ€»ç»Ÿè®¡æ•°æ®ï¼ˆä¾‹å¦‚è®¡æ•°æˆ–å‡å€¼ï¼‰ã€‚ æ•´ç†å’Œè½¬æ¢ä¸€èµ·è¢«ç§°ä¸º <strong>æ•°æ®æ•´ç† (wrangling)</strong>ï¼Œå› ä¸ºå°†æ•°æ®å¤„ç†æˆä¾¿äºä½¿ç”¨çš„å½¢å¼é€šå¸¸æ„Ÿè§‰åƒä¸€åœºæˆ˜æ–—ï¼</p>
<p>Once you have tidy data with the variables you need, there are two main engines of knowledge generation: visualization and modeling. These have complementary strengths and weaknesses, so any real data analysis will iterate between them many times.<br>
ä¸€æ—¦ä½ è·å¾—äº†åŒ…å«æ‰€éœ€å˜é‡çš„æ•´æ´æ•°æ®ï¼Œä¾¿æœ‰ä¸¤ç§ä¸»è¦çš„çŸ¥è¯†ç”Ÿæˆå¼•æ“ï¼šå¯è§†åŒ–å’Œå»ºæ¨¡ã€‚ è¿™ä¸¤è€…å„æœ‰ä¼˜ç¼ºç‚¹ï¼Œäº’ä¸ºè¡¥å……ï¼Œå› æ­¤ä»»ä½•å®é™…çš„æ•°æ®åˆ†æéƒ½ä¼šåœ¨å®ƒä»¬ä¹‹é—´å¤šæ¬¡è¿­ä»£ã€‚</p>
<p><strong>Visualization</strong> is a fundamentally human activity. A good visualization will show you things you did not expect or raise new questions about the data. A good visualization might also hint that youâ€™re asking the wrong question or that you need to collect different data. Visualizations can surprise you, but they donâ€™t scale particularly well because they require a human to interpret them.<br><strong>å¯è§†åŒ– (Visualization)</strong> æœ¬è´¨ä¸Šæ˜¯ä¸€é¡¹äººç±»æ´»åŠ¨ã€‚ å¥½çš„å¯è§†åŒ–ä¼šå‘ä½ å±•ç¤ºæ„æƒ³ä¸åˆ°çš„äº‹æƒ…ï¼Œæˆ–å¼•å‘å…³äºæ•°æ®çš„æ–°é—®é¢˜ã€‚ å¥½çš„å¯è§†åŒ–ä¹Ÿå¯èƒ½æš—ç¤ºä½ é—®é”™äº†é—®é¢˜ï¼Œæˆ–è€…ä½ éœ€è¦æ”¶é›†ä¸åŒçš„æ•°æ®ã€‚ å¯è§†åŒ–å¯ä»¥ç»™ä½ å¸¦æ¥æƒŠå–œï¼Œä½†å®ƒä»¬çš„å¯æ‰©å±•æ€§ä¸æ˜¯ç‰¹åˆ«å¥½ï¼Œå› ä¸ºå®ƒä»¬éœ€è¦äººæ¥è§£é‡Šã€‚</p>
<p><strong>Models</strong> are complementary tools to visualization. Once you have made your questions sufficiently precise, you can use a model to answer them. Models are fundamentally mathematical or computational tools, so they generally scale well. Even when they donâ€™t, itâ€™s usually cheaper to buy more computers than it is to buy more brains! But every model makes assumptions, and by its very nature, a model cannot question its own assumptions. That means a model cannot fundamentally surprise you.<br><strong>æ¨¡å‹ (Models)</strong> æ˜¯å¯è§†åŒ–çš„è¡¥å……å·¥å…·ã€‚ ä¸€æ—¦ä½ çš„é—®é¢˜è¶³å¤Ÿç²¾ç¡®ï¼Œä½ å°±å¯ä»¥ä½¿ç”¨æ¨¡å‹æ¥å›ç­”å®ƒä»¬ã€‚ æ¨¡å‹æœ¬è´¨ä¸Šæ˜¯æ•°å­¦æˆ–è®¡ç®—å·¥å…·ï¼Œæ‰€ä»¥å®ƒä»¬é€šå¸¸å…·æœ‰è‰¯å¥½çš„å¯æ‰©å±•æ€§ã€‚ å³ä½¿å®ƒä»¬ä¸å…·å¤‡ï¼Œè´­ä¹°æ›´å¤šçš„è®¡ç®—æœºé€šå¸¸ä¹Ÿæ¯”è´­ä¹°æ›´å¤šçš„äººè„‘ä¾¿å®œï¼ ä½†æ˜¯æ¯ä¸ªæ¨¡å‹éƒ½æœ‰å…¶å‡è®¾ï¼Œè€Œæ¨¡å‹æœ¬è´¨ä¸Šæ— æ³•è´¨ç–‘è‡ªèº«çš„å‡è®¾ã€‚ è¿™æ„å‘³ç€æ¨¡å‹æ ¹æœ¬ä¸Šæ— æ³•ç»™ä½ å¸¦æ¥æƒŠå–œã€‚</p>
<p>The last step of data science is <strong>communication</strong>, an absolutely critical part of any data analysis project. It doesnâ€™t matter how well your models and visualization have led you to understand the data unless you can also communicate your results to others.<br>
æ•°æ®ç§‘å­¦çš„æœ€åä¸€æ­¥æ˜¯ <strong>æ²Ÿé€š (communication)</strong>ï¼Œè¿™æ˜¯ä»»ä½•æ•°æ®åˆ†æé¡¹ç›®ä¸­è‡³å…³é‡è¦çš„ä¸€éƒ¨åˆ†ã€‚ æ— è®ºä½ çš„æ¨¡å‹å’Œå¯è§†åŒ–è®©ä½ å¯¹æ•°æ®ç†è§£å¾—æœ‰å¤šé€å½»ï¼Œé™¤éä½ ä¹Ÿèƒ½å°†ä½ çš„ç»“æœä¼ è¾¾ç»™ä»–äººï¼Œå¦åˆ™ä¸€åˆ‡éƒ½æ˜¯å¾’åŠ³ã€‚</p>
<p>Surrounding all these tools is <strong>programming</strong>. Programming is a cross-cutting tool that you use in nearly every part of a data science project. You donâ€™t need to be an expert programmer to be a successful data scientist, but learning more about programming pays off because becoming a better programmer allows you to automate common tasks and solve new problems with greater ease.<br>
å›´ç»•æ‰€æœ‰è¿™äº›å·¥å…·çš„æ˜¯ <strong>ç¼–ç¨‹ (programming)</strong>ã€‚ ç¼–ç¨‹æ˜¯ä¸€é¡¹è´¯ç©¿å§‹ç»ˆçš„å·¥å…·ï¼Œä½ åœ¨æ•°æ®ç§‘å­¦é¡¹ç›®çš„å‡ ä¹æ¯ä¸ªç¯èŠ‚éƒ½ä¼šç”¨åˆ°å®ƒã€‚ ä½ ä¸éœ€è¦æˆä¸ºä¸€åä¸“å®¶ç¨‹åºå‘˜æ‰èƒ½æˆä¸ºä¸€åæˆåŠŸçš„æ•°æ®ç§‘å­¦å®¶ï¼Œä½†å­¦ä¹ æ›´å¤šå…³äºç¼–ç¨‹çš„çŸ¥è¯†æ˜¯å€¼å¾—çš„ï¼Œå› ä¸ºæˆä¸ºä¸€ä¸ªæ›´å¥½çš„ç¨‹åºå‘˜å¯ä»¥è®©ä½ è‡ªåŠ¨åŒ–å¤„ç†å¸¸è§ä»»åŠ¡ï¼Œå¹¶æ›´è½»æ¾åœ°è§£å†³æ–°é—®é¢˜ã€‚</p>
<p>Youâ€™ll use these tools in every data science project, but theyâ€™re not enough for most projects. Thereâ€™s a rough 80/20 rule at play: you can tackle about 80% of every project using the tools youâ€™ll learn in this book, but youâ€™ll need other tools to tackle the remaining 20%. Throughout this book, weâ€™ll point you to resources where you can learn more.<br>
ä½ å°†åœ¨æ¯ä¸ªæ•°æ®ç§‘å­¦é¡¹ç›®ä¸­ä½¿ç”¨è¿™äº›å·¥å…·ï¼Œä½†å¯¹å¤§å¤šæ•°é¡¹ç›®æ¥è¯´ï¼Œå®ƒä»¬è¿˜ä¸å¤Ÿã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªå¤§è‡´çš„ 80/20 æ³•åˆ™ï¼šä½ å¯ä»¥ä½¿ç”¨æœ¬ä¹¦ä¸­å­¦åˆ°çš„å·¥å…·å¤„ç†æ¯ä¸ªé¡¹ç›®ä¸­å¤§çº¦ 80% çš„å·¥ä½œï¼Œä½†ä½ éœ€è¦å…¶ä»–å·¥å…·æ¥å¤„ç†å‰©ä¸‹çš„ 20%ã€‚ åœ¨æœ¬ä¹¦ä¸­ï¼Œæˆ‘ä»¬ä¼šä¸ºä½ æŒ‡å‡ºå¯ä»¥å­¦ä¹ æ›´å¤šçŸ¥è¯†çš„èµ„æºã€‚</p>
</section><section id="how-this-book-is-organized" class="level2"><h2 class="anchored" data-anchor-id="how-this-book-is-organized">How this book is organized</h2>
<p>The previous description of the tools of data science is organized roughly according to the order in which you use them in an analysis (although, of course, youâ€™ll iterate through them multiple times). In our experience, however, learning data importing and tidying first is suboptimal because, 80% of the time, itâ€™s routine and boring, and the other 20% of the time, itâ€™s weird and frustrating. Thatâ€™s a bad place to start learning a new subject! Instead, weâ€™ll start with visualization and transformation of data thatâ€™s already been imported and tidied. That way, when you ingest and tidy your own data, your motivation will stay high because you know the pain is worth the effort.<br>
å‰æ–‡å¯¹æ•°æ®ç§‘å­¦å·¥å…·çš„æè¿°å¤§è‡´æ˜¯æŒ‰ç…§ä½ åœ¨åˆ†æä¸­ä½¿ç”¨çš„é¡ºåºæ¥ç»„ç»‡çš„ï¼ˆå½“ç„¶ï¼Œä½ ä¼šå¤šæ¬¡è¿­ä»£ä½¿ç”¨å®ƒä»¬ï¼‰ã€‚ ç„¶è€Œï¼Œæ ¹æ®æˆ‘ä»¬çš„ç»éªŒï¼Œé¦–å…ˆå­¦ä¹ æ•°æ®å¯¼å…¥å’Œæ•´ç†å¹¶éæœ€ä½³é€‰æ‹©ï¼Œå› ä¸º 80% çš„æ—¶é—´è¿™é¡¹å·¥ä½œæ˜¯å¸¸è§„ä¸”ä¹å‘³çš„ï¼Œè€Œå¦å¤– 20% çš„æ—¶é—´åˆ™æ˜¯å¤æ€ªä¸”ä»¤äººæ²®ä¸§çš„ã€‚ è¿™å¯¹äºå¼€å§‹å­¦ä¹ ä¸€ä¸ªæ–°ä¸»é¢˜æ¥è¯´æ˜¯ä¸ªç³Ÿç³•çš„èµ·ç‚¹ï¼ å› æ­¤ï¼Œæˆ‘ä»¬å°†ä»å·²ç»å¯¼å…¥å’Œæ•´ç†å¥½çš„æ•°æ®çš„å¯è§†åŒ–å’Œè½¬æ¢å¼€å§‹ã€‚ è¿™æ ·ï¼Œå½“ä½ å¤„ç†å’Œæ•´ç†è‡ªå·±çš„æ•°æ®æ—¶ï¼Œä½ çš„åŠ¨åŠ›ä¼šä¿æŒé«˜æ˜‚ï¼Œå› ä¸ºä½ çŸ¥é“è¿™äº›è¾›è‹¦æ˜¯å€¼å¾—çš„ã€‚</p>
<p>Within each chapter, we try to adhere to a consistent pattern: start with some motivating examples so you can see the bigger picture, and then dive into the details. Each section of the book is paired with exercises to help you practice what youâ€™ve learned. Although it can be tempting to skip the exercises, thereâ€™s no better way to learn than by practicing on real problems.<br>
åœ¨æ¯ä¸€ç« ä¸­ï¼Œæˆ‘ä»¬éƒ½åŠ›æ±‚éµå¾ªä¸€ç§ä¸€è‡´çš„æ¨¡å¼ï¼šä»ä¸€äº›æ¿€åŠ±æ€§çš„ä¾‹å­å¼€å§‹ï¼Œè®©ä½ çœ‹åˆ°å…¨å±€ï¼Œç„¶åæ·±å…¥ç»†èŠ‚ã€‚ ä¹¦ä¸­çš„æ¯ä¸€èŠ‚éƒ½é…æœ‰ç»ƒä¹ ï¼Œä»¥å¸®åŠ©ä½ å®è·µæ‰€å­¦ã€‚ è™½ç„¶è·³è¿‡ç»ƒä¹ å¾ˆè¯±äººï¼Œä½†æ²¡æœ‰æ¯”é€šè¿‡è§£å†³å®é™…é—®é¢˜æ›´å¥½çš„å­¦ä¹ æ–¹æ³•äº†ã€‚</p>
</section><section id="what-you-wont-learn" class="level2"><h2 class="anchored" data-anchor-id="what-you-wont-learn">What you wonâ€™t learn</h2>
<p>There are several important topics that this book doesnâ€™t cover. We believe itâ€™s important to stay ruthlessly focused on the essentials so you can get up and running as quickly as possible. That means this book canâ€™t cover every important topic.<br>
æœ¬ä¹¦æœªæ¶µç›–ä¸€äº›é‡è¦ä¸»é¢˜ã€‚ æˆ‘ä»¬è®¤ä¸ºï¼Œä¸¥æ ¼ä¸“æ³¨äºæ ¸å¿ƒå†…å®¹ï¼Œä»¥ä¾¿ä½ èƒ½å°½å¿«ä¸Šæ‰‹ï¼Œè¿™ä¸€ç‚¹è‡³å…³é‡è¦ã€‚ è¿™æ„å‘³ç€æœ¬ä¹¦æ— æ³•æ¶µç›–æ‰€æœ‰é‡è¦ä¸»é¢˜ã€‚</p>
<section id="modeling" class="level3"><h3 class="anchored" data-anchor-id="modeling">Modeling</h3>
<p>Modeling is super important for data science, but itâ€™s a big topic, and unfortunately, we just donâ€™t have the space to give it the coverage it deserves here. To learn more about modeling, we highly recommend <a href="https://www.tmwr.org">Tidy Modeling with R</a> by our colleagues Max Kuhn and Julia Silge. This book will teach you the tidymodels family of packages, which, as you might guess from the name, share many conventions with the tidyverse packages we use in this book.<br>
å»ºæ¨¡å¯¹äºæ•°æ®ç§‘å­¦è¶…çº§é‡è¦ï¼Œä½†å®ƒæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„ä¸»é¢˜ï¼Œä¸å¹¸çš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œæ²¡æœ‰è¶³å¤Ÿçš„ç¯‡å¹…ç»™äºˆå®ƒåº”æœ‰çš„ä»‹ç»ã€‚ è¦å­¦ä¹ æ›´å¤šå…³äºå»ºæ¨¡çš„çŸ¥è¯†ï¼Œæˆ‘ä»¬å¼ºçƒˆæ¨èæˆ‘ä»¬çš„åŒäº‹ Max Kuhn å’Œ Julia Silge ç¼–å†™çš„ <a href="https://www.tmwr.org">ã€ŠTidy Modeling with Rã€‹</a>ã€‚ è¿™æœ¬ä¹¦å°†æ•™ä½  tidymodels ç³»åˆ—çš„åŒ…ï¼Œæ­£å¦‚ä½ å¯èƒ½ä»åå­—ä¸­çŒœåˆ°çš„é‚£æ ·ï¼Œå®ƒä»¬ä¸æˆ‘ä»¬åœ¨æœ¬ä¹¦ä¸­ä½¿ç”¨çš„ tidyverse åŒ…æœ‰è®¸å¤šå…±åŒçš„çº¦å®šã€‚</p>
</section><section id="big-data" class="level3"><h3 class="anchored" data-anchor-id="big-data">Big data</h3>
<p>This book proudly and primarily focuses on small, in-memory datasets. This is the right place to start because you canâ€™t tackle big data unless you have experience with small data. The tools youâ€™ll learn throughout the majority of this book will easily handle hundreds of megabytes of data, and with a bit of care, you can typically use them to work with a few gigabytes of data. Weâ€™ll also show you how to get data out of databases and parquet files, both of which are often used to store big data. You wonâ€™t necessarily be able to work with the entire dataset, but thatâ€™s not a problem because you only need a subset or subsample to answer the question that youâ€™re interested in.<br>
æœ¬ä¹¦ä¸»è¦ä¸”è‡ªè±ªåœ°ä¸“æ³¨äºå°å‹çš„ã€å†…å­˜ä¸­çš„æ•°æ®é›†ã€‚ è¿™æ˜¯ä¸€ä¸ªæ­£ç¡®çš„èµ·ç‚¹ï¼Œå› ä¸ºé™¤éä½ æœ‰å¤„ç†å°æ•°æ®çš„ç»éªŒï¼Œå¦åˆ™ä½ æ— æ³•å¤„ç†å¤§æ•°æ®ã€‚ ä½ åœ¨æœ¬ä¹¦å¤§éƒ¨åˆ†ç« èŠ‚ä¸­å­¦åˆ°çš„å·¥å…·å¯ä»¥è½»æ¾å¤„ç†æ•°ç™¾å…†å­—èŠ‚çš„æ•°æ®ï¼Œç¨åŠ æ³¨æ„ï¼Œä½ é€šå¸¸å¯ä»¥ç”¨å®ƒä»¬æ¥å¤„ç†å‡ åƒå…†å­—èŠ‚çš„æ•°æ®ã€‚ æˆ‘ä»¬è¿˜å°†å‘ä½ å±•ç¤ºå¦‚ä½•ä»æ•°æ®åº“å’Œ parquet æ–‡ä»¶ä¸­è·å–æ•°æ®ï¼Œè¿™ä¸¤ç§æ–‡ä»¶éƒ½å¸¸ç”¨äºå­˜å‚¨å¤§æ•°æ®ã€‚ ä½ ä¸ä¸€å®šèƒ½å¤Ÿå¤„ç†æ•´ä¸ªæ•°æ®é›†ï¼Œä½†è¿™ä¸æˆé—®é¢˜ï¼Œå› ä¸ºä½ åªéœ€è¦ä¸€ä¸ªå­é›†æˆ–å­æ ·æœ¬æ¥å›ç­”ä½ æ„Ÿå…´è¶£çš„é—®é¢˜ã€‚</p>
<p>If youâ€™re routinely working with larger data (10â€“100 GB, say), we recommend learning more about <a href="https://github.com/Rdatatable/data.table">data.table</a>. We donâ€™t teach it here because it uses a different interface than the tidyverse and requires you to learn some different conventions. However, it is incredibly faster, and the performance payoff is worth investing some time in learning it if youâ€™re working with large data.<br>
å¦‚æœä½ ç»å¸¸å¤„ç†æ›´å¤§æ•°æ®ï¼ˆæ¯”å¦‚ 10-100 GBï¼‰ï¼Œæˆ‘ä»¬å»ºè®®ä½ å­¦ä¹ æ›´å¤šå…³äº <a href="https://github.com/Rdatatable/data.table">data.table</a> çš„çŸ¥è¯†ã€‚ æˆ‘ä»¬åœ¨è¿™é‡Œä¸æ•™å®ƒï¼Œå› ä¸ºå®ƒä½¿ç”¨äº†ä¸ tidyverse ä¸åŒçš„æ¥å£ï¼Œéœ€è¦ä½ å­¦ä¹ ä¸€äº›ä¸åŒçš„çº¦å®šã€‚ ç„¶è€Œï¼Œå®ƒçš„é€Ÿåº¦å¿«å¾—æƒŠäººï¼Œå¦‚æœä½ å¤„ç†çš„æ˜¯å¤§æ•°æ®ï¼Œä¸ºäº†æ€§èƒ½æå‡è€ŒèŠ±æ—¶é—´å­¦ä¹ å®ƒæ˜¯å€¼å¾—çš„ã€‚</p>
</section><section id="python-julia-and-friends" class="level3"><h3 class="anchored" data-anchor-id="python-julia-and-friends">Python, Julia, and friends</h3>
<p>In this book, you wonâ€™t learn anything about Python, Julia, or any other programming language useful for data science. This isnâ€™t because we think these tools are bad. Theyâ€™re not! And in practice, most data science teams use a mix of languages, often at least R and Python. But we strongly believe that itâ€™s best to master one tool at a time, and R is a great place to start.<br>
åœ¨æœ¬ä¹¦ä¸­ï¼Œä½ ä¸ä¼šå­¦åˆ°ä»»ä½•å…³äº Pythonã€Julia æˆ–å…¶ä»–ç”¨äºæ•°æ®ç§‘å­¦çš„ç¼–ç¨‹è¯­è¨€çš„çŸ¥è¯†ã€‚ è¿™å¹¶éå› ä¸ºæˆ‘ä»¬è®¤ä¸ºè¿™äº›å·¥å…·ä¸å¥½ã€‚ å®ƒä»¬å¾ˆå¥½ï¼ åœ¨å®è·µä¸­ï¼Œå¤§å¤šæ•°æ•°æ®ç§‘å­¦å›¢é˜Ÿä¼šæ··åˆä½¿ç”¨å¤šç§è¯­è¨€ï¼Œé€šå¸¸è‡³å°‘åŒ…æ‹¬ R å’Œ Pythonã€‚ ä½†æˆ‘ä»¬åšä¿¡ï¼Œæœ€å¥½ä¸€æ¬¡åªæŒæ¡ä¸€ç§å·¥å…·ï¼Œè€Œ R æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„èµ·ç‚¹ã€‚</p>
</section></section><section id="prerequisites" class="level2"><h2 class="anchored" data-anchor-id="prerequisites">Prerequisites</h2>
<p>Weâ€™ve made a few assumptions about what you already know to get the most out of this book. You should be generally numerically literate, and itâ€™s helpful if you have some basic programming experience already. If youâ€™ve never programmed before, you might find <a href="https://rstudio-education.github.io/hopr/">Hands on Programming with R</a> by Garrett to be a valuable adjunct to this book.<br>
ä¸ºäº†è®©ä½ èƒ½ä»æœ¬ä¹¦ä¸­è·å¾—æœ€å¤§æ”¶ç›Šï¼Œæˆ‘ä»¬å¯¹ä½ å·²æœ‰çš„çŸ¥è¯†åšäº†ä¸€äº›å‡è®¾ã€‚ ä½ åº”è¯¥å…·å¤‡åŸºæœ¬çš„æ•°å­¦ç´ å…»ï¼Œå¦‚æœå·²ç»æœ‰ä¸€äº›åŸºç¡€çš„ç¼–ç¨‹ç»éªŒä¼šå¾ˆæœ‰å¸®åŠ©ã€‚ å¦‚æœä½ ä»¥å‰ä»æœªç¼–ç¨‹è¿‡ï¼Œä½ å¯èƒ½ä¼šå‘ç° Garrett ç¼–å†™çš„ <a href="https://rstudio-education.github.io/hopr/">ã€ŠHands on Programming with Rã€‹</a> æ˜¯æœ¬ä¹¦çš„ä¸€ä¸ªæœ‰ä»·å€¼çš„è¡¥å……ã€‚</p>
<p>You need four things to run the code in this book: R, RStudio, a collection of R packages called the <strong>tidyverse</strong>, and a handful of other packages. Packages are the fundamental units of reproducible R code. They include reusable functions, documentation that describes how to use them, and sample data.<br>
è¦è¿è¡Œæœ¬ä¹¦ä¸­çš„ä»£ç ï¼Œä½ éœ€è¦å››æ ·ä¸œè¥¿ï¼šRã€RStudioã€ä¸€ä¸ªåä¸º <strong>tidyverse</strong> çš„ R åŒ…é›†åˆï¼Œä»¥åŠå…¶ä»–å‡ ä¸ªåŒ…ã€‚ åŒ…æ˜¯å¯å¤ç° R ä»£ç çš„åŸºæœ¬å•ä½ã€‚ å®ƒä»¬åŒ…å«å¯é‡ç”¨çš„å‡½æ•°ã€æè¿°å¦‚ä½•ä½¿ç”¨å®ƒä»¬çš„æ–‡æ¡£ä»¥åŠç¤ºä¾‹æ•°æ®ã€‚</p>
<section id="r" class="level3"><h3 class="anchored" data-anchor-id="r">R</h3>
<p>To download R, go to CRAN, the <strong>c</strong>omprehensive <strong>R</strong> <strong>a</strong>rchive <strong>n</strong>etwork, <a href="https://cloud.r-project.org">https://cloud.r-project.org</a>. A new major version of R comes out once a year, and there are 2-3 minor releases each year. Itâ€™s a good idea to update regularly. Upgrading can be a bit of a hassle, especially for major versions that require you to re-install all your packages, but putting it off only makes it worse. We recommend R 4.2.0 or later for this book.<br>
è¦ä¸‹è½½ Rï¼Œè¯·è®¿é—® CRANï¼ˆ<strong>c</strong>omprehensive <strong>R</strong> <strong>a</strong>rchive <strong>n</strong>etworkï¼Œç»¼åˆ R å­˜æ¡£ç½‘ç»œï¼‰ï¼Œç½‘å€ä¸º <a href="https://cloud.r-project.org">https://cloud.r-project.org</a>ã€‚ R æ¯å¹´å‘å¸ƒä¸€ä¸ªæ–°çš„ä¸»ç‰ˆæœ¬ï¼Œæ¯å¹´è¿˜æœ‰ 2-3 ä¸ªæ¬¡è¦ç‰ˆæœ¬å‘å¸ƒã€‚ å®šæœŸæ›´æ–°æ˜¯ä¸ªå¥½ä¸»æ„ã€‚ å‡çº§å¯èƒ½æœ‰ç‚¹éº»çƒ¦ï¼Œç‰¹åˆ«æ˜¯ä¸»ç‰ˆæœ¬å‡çº§éœ€è¦ä½ é‡æ–°å®‰è£…æ‰€æœ‰åŒ…ï¼Œä½†æ‹–å»¶åªä¼šè®©äº‹æƒ…å˜å¾—æ›´ç³Ÿã€‚ æˆ‘ä»¬æ¨èä¸ºæœ¬ä¹¦ä½¿ç”¨ R 4.2.0 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚</p>
</section><section id="rstudio" class="level3"><h3 class="anchored" data-anchor-id="rstudio">RStudio</h3>
<p>RStudio is an integrated development environment, or IDE, for R programming, which you can download from <a href="https://posit.co/download/rstudio-desktop/">https://posit.co/download/rstudio-desktop/</a>. RStudio is updated a couple of times a year, and it will automatically let you know when a new version is out, so thereâ€™s no need to check back. Itâ€™s a good idea to upgrade regularly to take advantage of the latest and greatest features. For this book, make sure you have at least RStudio 2022.02.0.<br>
RStudio æ˜¯ R ç¼–ç¨‹çš„é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰ï¼Œä½ å¯ä»¥ä» <a href="https://posit.co/download/rstudio-desktop/">https://posit.co/download/rstudio-desktop/</a> ä¸‹è½½ã€‚ RStudio æ¯å¹´æ›´æ–°å‡ æ¬¡ï¼Œå½“æœ‰æ–°ç‰ˆæœ¬å‘å¸ƒæ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨é€šçŸ¥ä½ ï¼Œæ‰€ä»¥æ— éœ€åå¤æ£€æŸ¥ã€‚ å®šæœŸå‡çº§ä»¥åˆ©ç”¨æœ€æ–°æœ€å¼ºå¤§çš„åŠŸèƒ½æ˜¯ä¸ªå¥½ä¸»æ„ã€‚ å¯¹äºæœ¬ä¹¦ï¼Œè¯·ç¡®ä¿ä½ è‡³å°‘å®‰è£…äº† RStudio 2022.02.0 ç‰ˆæœ¬ã€‚</p>
<p>When you start RStudio, <a href="#fig-rstudio-console" class="quarto-xref">Figure&nbsp;<span>2</span></a>, youâ€™ll see two key regions in the interface: the console pane and the output pane. For now, all you need to know is that you type the R code in the console pane and press enter to run it. Youâ€™ll learn more as we go along!<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a><br>
å½“ä½ å¯åŠ¨ RStudio æ—¶ï¼ˆè§ <a href="#fig-rstudio-console" class="quarto-xref">Figure&nbsp;<span>2</span></a>ï¼‰ï¼Œä½ ä¼šåœ¨ç•Œé¢ä¸­çœ‹åˆ°ä¸¤ä¸ªå…³é”®åŒºåŸŸï¼šæ§åˆ¶å°çª—æ ¼å’Œè¾“å‡ºçª—æ ¼ã€‚ ç›®å‰ï¼Œä½ åªéœ€è¦çŸ¥é“ï¼Œåœ¨æ§åˆ¶å°çª—æ ¼ä¸­è¾“å…¥ R ä»£ç ï¼Œç„¶åæŒ‰ Enter é”®æ¥è¿è¡Œå®ƒã€‚ éšç€å­¦ä¹ çš„æ·±å…¥ï¼Œä½ ä¼šäº†è§£æ›´å¤šï¼<sup>1</sup></p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-rstudio-console" class="quarto-float quarto-figure quarto-figure-center anchored" alt="The RStudio IDE with the panes Console and Output highlighted.">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-rstudio-console-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="diagrams/rstudio/console.png" class="img-fluid figure-img" alt="The RStudio IDE with the panes Console and Output highlighted." width="520">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-rstudio-console-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: The RStudio IDE has two key regions: type R code in the console pane on the left, and look for plots in the output pane on the right.
</figcaption></figure>
</div>
</div>
</div>
</section><section id="the-tidyverse" class="level3"><h3 class="anchored" data-anchor-id="the-tidyverse">The tidyverse</h3>
<p>Youâ€™ll also need to install some R packages. An R <strong>package</strong> is a collection of functions, data, and documentation that extends the capabilities of base R. Using packages is key to the successful use of R. The majority of the packages that you will learn in this book are part of the so-called tidyverse. All packages in the tidyverse share a common philosophy of data and R programming and are designed to work together.<br>
ä½ è¿˜éœ€è¦å®‰è£…ä¸€äº› R åŒ…ã€‚ R <strong>åŒ… (package)</strong> æ˜¯ä¸€ä¸ªé›†å‡½æ•°ã€æ•°æ®å’Œæ–‡æ¡£äºä¸€ä½“çš„é›†åˆï¼Œå®ƒæ‰©å±•äº†åŸºç¡€ R çš„åŠŸèƒ½ã€‚ ä½¿ç”¨åŒ…æ˜¯æˆåŠŸä½¿ç”¨ R çš„å…³é”®ã€‚ ä½ å°†åœ¨æœ¬ä¹¦ä¸­å­¦åˆ°çš„å¤§éƒ¨åˆ†åŒ…éƒ½å±äºæ‰€è°“çš„ tidyverseã€‚ tidyverse ä¸­çš„æ‰€æœ‰åŒ…éƒ½å…±äº«ä¸€å¥—å…³äºæ•°æ®å’Œ R ç¼–ç¨‹çš„å…±åŒç†å¿µï¼Œå¹¶ä¸”è¢«è®¾è®¡ä¸ºå¯ä»¥ååŒå·¥ä½œã€‚</p>
<p>You can install the complete tidyverse with a single line of code:<br>
ä½ å¯ä»¥ç”¨ä¸€è¡Œä»£ç å®‰è£…å®Œæ•´çš„ tidyverseï¼š</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"tidyverse"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>On your computer, type that line of code in the console, and then press enter to run it. R will download the packages from CRAN and install them on your computer.<br>
åœ¨ä½ çš„ç”µè„‘ä¸Šï¼Œåœ¨æ§åˆ¶å°ä¸­è¾“å…¥é‚£è¡Œä»£ç ï¼Œç„¶åæŒ‰å›è½¦é”®è¿è¡Œå®ƒã€‚ R å°†ä» CRAN ä¸‹è½½è¿™äº›åŒ…å¹¶å®‰è£…åˆ°ä½ çš„ç”µè„‘ä¸Šã€‚</p>
<p>You will not be able to use the functions, objects, or help files in a package until you load it with <code><a href="https://rdrr.io/r/base/library.html">library()</a></code>. Once you have installed a package, you can load it using the <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> function:<br>
åœ¨ä½ ä½¿ç”¨ <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> åŠ è½½ä¸€ä¸ªåŒ…ä¹‹å‰ï¼Œä½ å°†æ— æ³•ä½¿ç”¨è¯¥åŒ…ä¸­çš„å‡½æ•°ã€å¯¹è±¡æˆ–å¸®åŠ©æ–‡ä»¶ã€‚ ä¸€æ—¦å®‰è£…äº†åŒ…ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> å‡½æ•°æ¥åŠ è½½å®ƒï¼š</p>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; â”€â”€ Attaching core tidyverse packages â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidyverse 2.0.0 â”€â”€</span></span>
<span><span class="co">#&gt; âœ” dplyr     1.1.4     âœ” readr     2.1.5</span></span>
<span><span class="co">#&gt; âœ” forcats   1.0.0     âœ” stringr   1.5.1</span></span>
<span><span class="co">#&gt; âœ” ggplot2   3.5.2     âœ” tibble    3.3.0</span></span>
<span><span class="co">#&gt; âœ” lubridate 1.9.4     âœ” tidyr     1.3.1</span></span>
<span><span class="co">#&gt; âœ” purrr     1.0.4     </span></span>
<span><span class="co">#&gt; â”€â”€ Conflicts â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidyverse_conflicts() â”€â”€</span></span>
<span><span class="co">#&gt; âœ– dplyr::filter() masks stats::filter()</span></span>
<span><span class="co">#&gt; âœ– dplyr::lag()    masks stats::lag()</span></span>
<span><span class="co">#&gt; â„¹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This tells you that tidyverse loads nine packages: dplyr, forcats, ggplot2, lubridate, purrr, readr, stringr, tibble, tidyr. These are considered the <strong>core</strong> of the tidyverse because youâ€™ll use them in almost every analysis.<br>
è¿™ä¼šå‘Šè¯‰ä½  tidyverse åŠ è½½äº†ä¹ä¸ªåŒ…ï¼šdplyrã€forcatsã€ggplot2ã€lubridateã€purrrã€readrã€stringrã€tibble å’Œ tidyrã€‚ è¿™äº›è¢«è®¤ä¸ºæ˜¯ tidyverse çš„ <strong>æ ¸å¿ƒ (core)</strong>ï¼Œå› ä¸ºä½ å‡ ä¹åœ¨æ¯æ¬¡åˆ†æä¸­éƒ½ä¼šç”¨åˆ°å®ƒä»¬ã€‚</p>
<p>Packages in the tidyverse change fairly frequently. You can see if updates are available by running <code><a href="https://tidyverse.tidyverse.org/reference/tidyverse_update.html">tidyverse_update()</a></code>.<br>
tidyverse ä¸­çš„åŒ…æ›´æ–°ç›¸å½“é¢‘ç¹ã€‚ ä½ å¯ä»¥é€šè¿‡è¿è¡Œ <code><a href="https://tidyverse.tidyverse.org/reference/tidyverse_update.html">tidyverse_update()</a></code> æ¥æŸ¥çœ‹æ˜¯å¦æœ‰å¯ç”¨çš„æ›´æ–°ã€‚</p>
</section><section id="other-packages" class="level3"><h3 class="anchored" data-anchor-id="other-packages">Other packages</h3>
<p>There are many other excellent packages that are not part of the tidyverse because they solve problems in a different domain or are designed with a different set of underlying principles. This doesnâ€™t make them better or worse; it just makes them different. In other words, the complement to the tidyverse is not the messyverse but many other universes of interrelated packages. As you tackle more data science projects with R, youâ€™ll learn new packages and new ways of thinking about data.<br>
è¿˜æœ‰è®¸å¤šå…¶ä»–ä¼˜ç§€çš„åŒ…ä¸å±äº tidyverseï¼Œå› ä¸ºå®ƒä»¬è§£å†³çš„æ˜¯ä¸åŒé¢†åŸŸçš„é—®é¢˜ï¼Œæˆ–è€…éµå¾ªä¸åŒçš„åº•å±‚è®¾è®¡åŸåˆ™ã€‚ è¿™å¹¶ä¸èƒ½è¯´å®ƒä»¬æ›´å¥½æˆ–æ›´å·®ï¼Œåªæ˜¯å®ƒä»¬ä¸åŒã€‚ æ¢å¥è¯è¯´ï¼Œtidyverse çš„è¡¥å……ä¸æ˜¯ messyverse (æ··ä¹±å®‡å®™)ï¼Œè€Œæ˜¯è®¸å¤šå…¶ä»–ç›¸äº’å…³è”çš„åŒ…çš„å®‡å®™ã€‚ éšç€ä½ ç”¨ R æ”»å…‹æ›´å¤šçš„æ•°æ®ç§‘å­¦é¡¹ç›®ï¼Œä½ å°†å­¦åˆ°æ–°çš„åŒ…å’Œæ–°çš„æ•°æ®æ€ç»´æ–¹å¼ã€‚</p>
<p>Weâ€™ll use many packages from outside the tidyverse in this book. For example, weâ€™ll use the following packages because they provide interesting datasets for us to work with in the process of learning R:<br>
åœ¨æœ¬ä¹¦ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨è®¸å¤šæ¥è‡ª tidyverse ä¹‹å¤–çš„åŒ…ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä»¥ä¸‹åŒ…ï¼Œå› ä¸ºå®ƒä»¬åœ¨æˆ‘ä»¬å­¦ä¹  R çš„è¿‡ç¨‹ä¸­æä¾›äº†æœ‰è¶£çš„æ•°æ®é›†ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼š</p>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"arrow"</span>, <span class="st">"babynames"</span>, <span class="st">"curl"</span>, <span class="st">"duckdb"</span>, <span class="st">"gapminder"</span>, </span>
<span>    <span class="st">"ggrepel"</span>, <span class="st">"ggridges"</span>, <span class="st">"ggthemes"</span>, <span class="st">"hexbin"</span>, <span class="st">"janitor"</span>, <span class="st">"Lahman"</span>, </span>
<span>    <span class="st">"leaflet"</span>, <span class="st">"maps"</span>, <span class="st">"nycflights13"</span>, <span class="st">"openxlsx"</span>, <span class="st">"palmerpenguins"</span>, </span>
<span>    <span class="st">"repurrrsive"</span>, <span class="st">"tidymodels"</span>, <span class="st">"writexl"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Weâ€™ll also use a selection of other packages for one off examples. You donâ€™t need to install them now, just remember that whenever you see an error like this:<br>
æˆ‘ä»¬è¿˜å°†ä¸ºä¸€äº›ä¸€æ¬¡æ€§çš„ä¾‹å­ä½¿ç”¨å…¶ä»–ä¸€äº›åŒ…ã€‚ ä½ ç°åœ¨ä¸éœ€è¦å®‰è£…å®ƒä»¬ï¼Œåªéœ€è®°ä½ï¼Œå½“ä½ çœ‹åˆ°å¦‚ä¸‹é”™è¯¯æ—¶ï¼š</p>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggrepel.slowkow.com/">ggrepel</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in library(ggrepel) : there is no package called â€˜ggrepelâ€™</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You need to run <code>install.packages("ggrepel")</code> to install the package.<br>
ä½ éœ€è¦è¿è¡Œ <code>install.packages("ggrepel")</code> æ¥å®‰è£…è¿™ä¸ªåŒ…ã€‚</p>
</section></section><section id="running-r-code" class="level2"><h2 class="anchored" data-anchor-id="running-r-code">Running R code</h2>
<p>The previous section showed you several examples of running R code. The code in the book looks like this:<br>
ä¸Šä¸€èŠ‚å‘ä½ å±•ç¤ºäº†å‡ ä¸ªè¿è¡Œ R ä»£ç çš„ä¾‹å­ã€‚ ä¹¦ä¸­çš„ä»£ç çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š</p>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fl">1</span> <span class="op">+</span> <span class="fl">2</span></span>
<span><span class="co">#&gt; [1] 3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If you run the same code in your local console, it will look like this:<br>
å¦‚æœä½ åœ¨æœ¬åœ°æ§åˆ¶å°è¿è¡ŒåŒæ ·çš„ä»£ç ï¼Œå®ƒä¼šçœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code>&gt; 1 + 2
[1] 3</code></pre>
<p>There are two main differences. In your console, you type after the <code>&gt;</code>, called the <strong>prompt</strong>; we donâ€™t show the prompt in the book. In the book, the output is commented out with <code>#&gt;</code>; in your console, it appears directly after your code. These two differences mean that if youâ€™re working with an electronic version of the book, you can easily copy code out of the book and paste it into the console.<br>
è¿™é‡Œæœ‰ä¸¤ä¸ªä¸»è¦åŒºåˆ«ã€‚ åœ¨ä½ çš„æ§åˆ¶å°é‡Œï¼Œä½ åœ¨ <code>&gt;</code>ï¼ˆç§°ä¸º <strong>æç¤ºç¬¦ (prompt)</strong>ï¼‰åé¢è¾“å…¥ï¼›æˆ‘ä»¬åœ¨ä¹¦ä¸­ä¸æ˜¾ç¤ºæç¤ºç¬¦ã€‚ åœ¨ä¹¦ä¸­ï¼Œè¾“å‡ºè¢« <code>#&gt;</code> æ³¨é‡Šæ‰äº†ï¼›åœ¨ä½ çš„æ§åˆ¶å°é‡Œï¼Œå®ƒç›´æ¥å‡ºç°åœ¨ä½ çš„ä»£ç åé¢ã€‚ è¿™ä¸¤ä¸ªåŒºåˆ«æ„å‘³ç€ï¼Œå¦‚æœä½ æ­£åœ¨ä½¿ç”¨æœ¬ä¹¦çš„ç”µå­ç‰ˆï¼Œä½ å¯ä»¥å¾ˆå®¹æ˜“åœ°ä»ä¹¦ä¸­å¤åˆ¶ä»£ç å¹¶ç²˜è´´åˆ°æ§åˆ¶å°ã€‚</p>
<p>Throughout the book, we use a consistent set of conventions to refer to code:<br>
åœ¨æ•´æœ¬ä¹¦ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€å¥—ä¸€è‡´çš„çº¦å®šæ¥å¼•ç”¨ä»£ç ï¼š</p>
<p>- Functions are displayed in a code font and followed by parentheses, like <code><a href="https://rdrr.io/r/base/sum.html">sum()</a></code> or <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code>.<br>
å‡½æ•°ä¼šä»¥ä»£ç å­—ä½“æ˜¾ç¤ºï¼Œå¹¶åè·Ÿæ‹¬å·ï¼Œå¦‚ <code><a href="https://rdrr.io/r/base/sum.html">sum()</a></code> æˆ– <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code>ã€‚</p>
<p>- Other R objects (such as data or function arguments) are in a code font, without parentheses, like <code>flights</code> or <code>x</code>.<br>
å…¶ä»–çš„ R å¯¹è±¡ï¼ˆæ¯”å¦‚æ•°æ®æˆ–å‡½æ•°å‚æ•°ï¼‰ä¼šä»¥ä»£ç å­—ä½“æ˜¾ç¤ºï¼Œä¸å¸¦æ‹¬å·ï¼Œå¦‚ <code>flights</code> æˆ– <code>x</code>ã€‚</p>
<p>- Sometimes, to make it clear which package an object comes from, weâ€™ll use the package name followed by two colons, like <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">dplyr::mutate()</a></code> or <code><a href="https://rdrr.io/pkg/nycflights13/man/flights.html">nycflights13::flights</a></code>. This is also valid R code.<br>
æœ‰æ—¶ï¼Œä¸ºäº†æ˜ç¡®ä¸€ä¸ªå¯¹è±¡æ¥è‡ªå“ªä¸ªåŒ…ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨åŒ…ååè·Ÿä¸¤ä¸ªå†’å·çš„å½¢å¼ï¼Œæ¯”å¦‚ <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">dplyr::mutate()</a></code> æˆ– <code><a href="https://rdrr.io/pkg/nycflights13/man/flights.html">nycflights13::flights</a></code>ã€‚ è¿™ä¹Ÿæ˜¯æœ‰æ•ˆçš„ R ä»£ç ã€‚</p>
</section><section id="acknowledgments" class="level2"><h2 class="anchored" data-anchor-id="acknowledgments">Acknowledgments</h2>
<p>This book isnâ€™t just the product of Hadley, Mine, and Garrett but is the result of many conversations (in person and online) that weâ€™ve had with many people in the R community. Weâ€™re incredibly grateful for all the conversations weâ€™ve had with yâ€™all; thank you so much!<br>
è¿™æœ¬ä¹¦ä¸ä»…ä»…æ˜¯ Hadleyã€Mine å’Œ Garrett çš„æˆæœï¼Œä¹Ÿæ˜¯æˆ‘ä»¬ä¸ R ç¤¾åŒºä¸­è®¸å¤šäººè¿›è¡Œå¤šæ¬¡å¯¹è¯ï¼ˆçº¿ä¸Šå’Œçº¿ä¸‹ï¼‰çš„ç»“æ™¶ã€‚ æˆ‘ä»¬éå¸¸æ„Ÿè°¢ä¸å„ä½è¿›è¡Œçš„æ‰€æœ‰å¯¹è¯ï¼›éå¸¸æ„Ÿè°¢ä½ ä»¬ï¼</p>
<p>This book was written in the open, and many people contributed via pull requests. A special thanks to all 259 of you who contributed improvements via GitHub pull requests (in alphabetical order by username): @a-rosenberg, Tim Becker (@a2800276), Abinash Satapathy (@Abinashbunty), Adam Gruer (@adam-gruer), adi pradhan (@adidoit), A. s. (@Adrianzo), Aep Hidyatuloh (@aephidayatuloh), Andrea Gilardi (@agila5), Ajay Deonarine (@ajay-d), @AlanFeder, Daihe Sui (@alansuidaihe), @alberto-agudo, @AlbertRapp, @aleloi, pete (@alonzi), Alex (@ALShum), Andrew M. (@amacfarland), Andrew Landgraf (@andland), @andyhuynh92, Angela Li (@angela-li), Antti Rask (@AnttiRask), LOU Xun (@aquarhead), @ariespirgel, @august-18, Michael Henry (@aviast), Azza Ahmed (@azzaea), Steven Moran (@bambooforest), Brian G. Barkley (@BarkleyBG), Mara Averick (@batpigandme), Oluwafemi OYEDELE (@BB1464), Brent Brewington (@bbrewington), Bill Behrman (@behrman), Ben Herbertson (@benherbertson), Ben Marwick (@benmarwick), Ben Steinberg (@bensteinberg), Benjamin Yeh (@bentyeh), Betul Turkoglu (@betulturkoglu), Brandon Greenwell (@bgreenwell), Bianca Peterson (@BinxiePeterson), Birger Niklas (@BirgerNi), Brett Klamer (@bklamer), @boardtc, Christian (@c-hoh), Caddy (@caddycarine), Camille V Leonard (@camillevleonard), @canovasjm, Cedric Batailler (@cedricbatailler), Christina Wei (@christina-wei), Christian Mongeau (@chrMongeau), Cooper Morris (@coopermor), Colin Gillespie (@csgillespie), Rademeyer Vermaak (@csrvermaak), Chloe Thierstein (@cthierst), Chris Saunders (@ctsa), Abhinav Singh (@curious-abhinav), Curtis Alexander (@curtisalexander), Christian G. Warden (@cwarden), Charlotte Wickham (@cwickham), Kenny Darrell (@darrkj), David Kane (@davidkane9), David (@davidrsch), David Rubinger (@davidrubinger), David Clark (@DDClark), Derwin McGeary (@derwinmcgeary), Daniel Gromer (@dgromer), @Divider85, @djbirke, Danielle Navarro (@djnavarro), Russell Shean (@DOH-RPS1303), Zhuoer Dong (@dongzhuoer), Devin Pastoor (@dpastoor), @DSGeoff, Devarshi Thakkar (@dthakkar09), Julian During (@duju211), Dylan Cashman (@dylancashman), Dirk Eddelbuettel (@eddelbuettel), Edwin Thoen (@EdwinTh), Ahmed El-Gabbas (@elgabbas), Henry Webel (@enryH), Ercan Karadas (@ercan7), Eric Kitaif (@EricKit), Eric Watt (@ericwatt), Erik Erhardt (@erikerhardt), Etienne B. Racine (@etiennebr), Everett Robinson (@evjrob), @fellennert, Flemming Miguel (@flemmingmiguel), Floris Vanderhaeghe (@florisvdh), @funkybluehen, @gabrivera, Garrick Aden-Buie (@gadenbuie), Peter Ganong (@ganong123), Gerome Meyer (@GeroVanMi), Gleb Ebert (@gl-eb), Josh Goldberg (@GoldbergData), bahadir cankardes (@gridgrad), Gustav W Delius (@gustavdelius), Hao Chen (@hao-trivago), Harris McGehee (@harrismcgehee), @hendrikweisser, Hengni Cai (@hengnicai), Iain (@Iain-S), Ian Sealy (@iansealy), Ian Lyttle (@ijlyttle), Ivan Krukov (@ivan-krukov), Jacob Kaplan (@jacobkap), Jazz Weisman (@jazzlw), John Blischak (@jdblischak), John D. Storey (@jdstorey), Gregory Jefferis (@jefferis), Jeffrey Stevens (@JeffreyRStevens), è’‹é›¨è’™ (@JeldorPKU), Jennifer (Jenny) Bryan (@jennybc), Jen Ren (@jenren), Jeroen Janssens (@jeroenjanssens), @jeromecholewa, Janet Wesner (@jilmun), Jim Hester (@jimhester), JJ Chen (@jjchern), Jacek Kolacz (@jkolacz), Joanne Jang (@joannejang), @johannes4998, John Sears (@johnsears), @jonathanflint, Jon Calder (@jonmcalder), Jonathan Page (@jonpage), Jon Harmon (@jonthegeek), JooYoung Seo (@jooyoungseo), Justinas Petuchovas (@jpetuchovas), Jordan (@jrdnbradford), Jeffrey Arnold (@jrnold), Jose Roberto Ayala Solares (@jroberayalas), Joyce Robbins (@jtr13), @juandering, Julia Stewart Lowndes (@jules32), Sonja (@kaetschap), Kara Woo (@karawoo), Katrin Leinweber (@katrinleinweber), Karandeep Singh (@kdpsingh), Kevin Perese (@kevinxperese), Kevin Ferris (@kferris10), Kirill Sevastyanenko (@kirillseva), Jonathan Kitt (@KittJonathan), @koalabearski, Kirill MÃ¼ller (@krlmlr), RafaÅ‚ Kucharski (@kucharsky), Kevin Wright (@kwstat), Noah Landesberg (@landesbergn), Lawrence Wu (@lawwu), @lindbrook, Luke W Johnston (@lwjohnst86), Kara de la Marck (@MarckK), Kunal Marwaha (@marwahaha), Matan Hakim (@matanhakim), Matthias Liew (@MatthiasLiew), Matt Wittbrodt (@MattWittbrodt), Mauro Lepore (@maurolepore), Mark Beveridge (@mbeveridge), @mcewenkhundi, mcsnowface, PhD (@mcsnowface), Matt Herman (@mfherman), Michael Boerman (@michaelboerman), Mitsuo Shiota (@mitsuoxv), Matthew Hendrickson (@mjhendrickson), @MJMarshall, Misty Knight-Finley (@mkfin7), Mohammed Hamdy (@mmhamdy), Maxim Nazarov (@mnazarov), Maria Paula Caldas (@mpaulacaldas), Mustafa Ascha (@mustafaascha), Nelson Areal (@nareal), Nate Olson (@nate-d-olson), Nathanael (@nateaff), @nattalides, Ned Western (@NedJWestern), Nick Clark (@nickclark1000), @nickelas, Nirmal Patel (@nirmalpatel), Nischal Shrestha (@nischalshrestha), Nicholas Tierney (@njtierney), Jakub Nowosad (@Nowosad), Nick Pullen (@nstjhp), @olivier6088, Olivier Cailloux (@oliviercailloux), Robin Penfold (@p0bs), Pablo E. Garcia (@pabloedug), Paul Adamson (@padamson), Penelope Y (@penelopeysm), Peter Hurford (@peterhurford), Peter Baumgartner (@petzi53), Patrick Kennedy (@pkq), Pooya Taherkhani (@pooyataher), Y. Yu (@PursuitOfDataScience), Radu Grosu (@radugrosu), Ranae Dietzel (@Ranae), Ralph Straumann (@rastrau), Rayna M Harris (@raynamharris), @ReeceGoding, Robin Gertenbach (@rgertenbach), Jajo (@RIngyao), Riva Quiroga (@rivaquiroga), Richard Knight (@RJHKnight), Richard Zijdeman (@rlzijdeman), @robertchu03, Robin Kohrs (@RobinKohrs), Robin (@Robinlovelace), Emily Robinson (@robinsones), Rob Tenorio (@robtenorio), Rod Mazloomi (@RodAli), Rohan Alexander (@RohanAlexander), Romero Morais (@RomeroBarata), Albert Y. Kim (@rudeboybert), Saghir (@saghirb), Hojjat Salmasian (@salmasian), Jonas (@sauercrowd), Vebash Naidoo (@sciencificity), Seamus McKinsey (@seamus-mckinsey), @seanpwilliams, Luke Smith (@seasmith), Matthew Sedaghatfar (@sedaghatfar), Sebastian Kraus (@sekR4), Sam Firke (@sfirke), Shannon Ellis (@ShanEllis), @shoili, Christian Heinrich (@Shurakai), Sâ€™busiso Mkhondwane (@sibusiso16), SM Raiyyan (@sm-raiyyan), Jakob Krigovsky (@sonicdoe), Stephan Koenig (@stephan-koenig), Stephen Balogun (@stephenbalogun), Steven M. Mortimer (@StevenMMortimer), StÃ©phane Guillou (@stragu), Sulgi Kim (@sulgik), Sergiusz Bleja (@svenski), Tal Galili (@talgalili), Alec Fisher (@Taurenamo), Todd Gerarden (@tgerarden), Tom Godfrey (@thomasggodfrey), Tim Broderick (@timbroderick), Tim Waterhouse (@timwaterhouse), TJ Mahr (@tjmahr), Thomas Klebel (@tklebel), Tom Prior (@tomjamesprior), Terence Teo (@tteo), @twgardner2, Ulrik Lyngs (@ulyngs), Shinya Uryu (@uribo), Martin Van der Linden (@vanderlindenma), Walter Somerville (@waltersom), @werkstattcodes, Will Beasley (@wibeasley), Yihui Xie (@yihui), Yiming (Paul) Li (@yimingli), @yingxingwu, Hiroaki Yutani (@yutannihilation), Yu Yu Aung (@yuyu-aung), Zach Bogart (@zachbogart), @zeal626, Zeki Akyol (@zekiakyol).</p>
</section><section id="colophon" class="level2"><h2 class="anchored" data-anchor-id="colophon">Colophon</h2>
<p>An online version of this book is available at <a href="https://r4ds.hadley.nz">https://r4ds.hadley.nz</a>. It will continue to evolve in between reprints of the physical book. The source of the book is available at <a href="https://github.com/hadley/r4ds">https://github.com/hadley/r4ds</a>. The book is powered by <a href="https://quarto.org">Quarto</a>, which makes it easy to write books that combine text and executable code.<br>
æœ¬ä¹¦çš„åœ¨çº¿ç‰ˆæœ¬å¯åœ¨ <a href="https://r4ds.hadley.nz">https://r4ds.hadley.nz</a> æŸ¥çœ‹ã€‚ åœ¨å®ä½“ä¹¦å†ç‰ˆä¹‹é—´ï¼Œå®ƒä¼šä¸æ–­æ¼”è¿›ã€‚ æœ¬ä¹¦çš„æºä»£ç å¯åœ¨ <a href="https://github.com/hadley/r4ds">https://github.com/hadley/r4ds</a> æ‰¾åˆ°ã€‚ æœ¬ä¹¦ç”± <a href="https://quarto.org">Quarto</a> é©±åŠ¨ï¼Œå®ƒä½¿å¾—ç¼–å†™ç»“åˆæ–‡æœ¬å’Œå¯æ‰§è¡Œä»£ç çš„ä¹¦ç±å˜å¾—å®¹æ˜“ã€‚</p>


</section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><hr>
<ol>
<li id="fn1"><p>If youâ€™d like a comprehensive overview of all of RStudioâ€™s features, see the RStudio User Guide at <a href="https://docs.posit.co/ide/user">https://docs.posit.co/ide/user</a>.<a href="#fnref1" class="footnote-back" role="doc-backlink">â†©ï¸</a></p></li>
</ol></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "î§‹";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/ggvispro\.github\.io\/r4ds-cn\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./preface-2e.html" class="pagination-link" aria-label="Preface to the second edition">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Preface to the second edition</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./whole-game.html" class="pagination-link" aria-label="Whole game">
        <span class="nav-page-text">Whole game</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/ggvisPro/r4ds-cn/edit/main/intro.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/ggvisPro/r4ds-cn/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>